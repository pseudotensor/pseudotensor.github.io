<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>HARM: docs/datadesc_mb09.txt File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HARM
   </div>
   <div id="projectbrief">harm and utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">docs/datadesc_mb09.txt File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5b70bff801aef7a25c71e880d4f76b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#ab5b70bff801aef7a25c71e880d4f76b3">DLOOPA</a> (<a class="el" href="../../d0/d10/datadesc_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>) tmp[<a class="el" href="../../d0/d10/datadesc_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>]=0.</td></tr>
<tr class="separator:ab5b70bff801aef7a25c71e880d4f76b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34867855cf219b5718eb5846fb33a42d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a34867855cf219b5718eb5846fb33a42d">DLOOP</a> (<a class="el" href="../../d0/d10/datadesc_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>, k) tmp[<a class="el" href="../../d0/d10/datadesc_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>]+</td></tr>
<tr class="separator:a34867855cf219b5718eb5846fb33a42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6574e97ba25d2db38131cad206e44e45"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a6574e97ba25d2db38131cad206e44e45">BL</a></td></tr>
<tr class="separator:a6574e97ba25d2db38131cad206e44e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a924023fb1fbfd0110f364b6a9c712fe4"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a924023fb1fbfd0110f364b6a9c712fe4">up</a></td></tr>
<tr class="separator:a924023fb1fbfd0110f364b6a9c712fe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44face73360fe327f00406307e2749a2"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a44face73360fe327f00406307e2749a2">uu1</a></td></tr>
<tr class="separator:a44face73360fe327f00406307e2749a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a671f79e6b6543457f32b6ca03a477e51"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a671f79e6b6543457f32b6ca03a477e51">uu2</a></td></tr>
<tr class="separator:a671f79e6b6543457f32b6ca03a477e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ff43f0b783688e7ffeff6596ef60a6"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 <br class="typebreak"/>
u_&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a09ff43f0b783688e7ffeff6596ef60a6">mu</a> [MKS]</td></tr>
<tr class="separator:a09ff43f0b783688e7ffeff6596ef60a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89abceb1f5e607b7074378156fa8f94b"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 <br class="typebreak"/>
u_ I have high time resolution <br class="typebreak"/>
data that happens to include <br class="typebreak"/>
the data you require Both my <br class="typebreak"/>
dipolar and quadrupolar <br class="typebreak"/>
simulations have high time <br class="typebreak"/>
resolution data for several <br class="typebreak"/>
quantities These are the <br class="typebreak"/>
fieldline binaries that are <br class="typebreak"/>
dumped on the same time cycle <br class="typebreak"/>
as&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a89abceb1f5e607b7074378156fa8f94b">dumps</a></td></tr>
<tr class="separator:a89abceb1f5e607b7074378156fa8f94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16bdf9332103ef47306edd18c5a3675"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 <br class="typebreak"/>
u_ I have high time resolution <br class="typebreak"/>
data that happens to include <br class="typebreak"/>
the data you require Both my <br class="typebreak"/>
dipolar and quadrupolar <br class="typebreak"/>
simulations have high time <br class="typebreak"/>
resolution data for several <br class="typebreak"/>
quantities These are the <br class="typebreak"/>
fieldline binaries that are <br class="typebreak"/>
dumped on the same time cycle <br class="typebreak"/>
as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#aa16bdf9332103ef47306edd18c5a3675">dt</a></td></tr>
<tr class="separator:aa16bdf9332103ef47306edd18c5a3675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f0f8d29ed710428d3e44fc490c725b7"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 <br class="typebreak"/>
u_ I have high time resolution <br class="typebreak"/>
data that happens to include <br class="typebreak"/>
the data you require Both my <br class="typebreak"/>
dipolar and quadrupolar <br class="typebreak"/>
simulations have high time <br class="typebreak"/>
resolution data for several <br class="typebreak"/>
quantities These are the <br class="typebreak"/>
fieldline binaries that are <br class="typebreak"/>
dumped on the same time cycle <br class="typebreak"/>
as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can <br class="typebreak"/>
use those They are in binary <br class="typebreak"/>
float format rather than <br class="typebreak"/>
double in order to save space <br class="typebreak"/>
The columns of data given <br class="typebreak"/>
above are the fastest&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a7f0f8d29ed710428d3e44fc490c725b7">index</a></td></tr>
<tr class="separator:a7f0f8d29ed710428d3e44fc490c725b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21ff679aac3fe28202c6d592eafd3e6"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 <br class="typebreak"/>
u_ I have high time resolution <br class="typebreak"/>
data that happens to include <br class="typebreak"/>
the data you require Both my <br class="typebreak"/>
dipolar and quadrupolar <br class="typebreak"/>
simulations have high time <br class="typebreak"/>
resolution data for several <br class="typebreak"/>
quantities These are the <br class="typebreak"/>
fieldline binaries that are <br class="typebreak"/>
dumped on the same time cycle <br class="typebreak"/>
as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can <br class="typebreak"/>
use those They are in binary <br class="typebreak"/>
float format rather than <br class="typebreak"/>
double in order to save space <br class="typebreak"/>
The columns of data given <br class="typebreak"/>
above are the fastest followed <br class="typebreak"/>
by&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a></td></tr>
<tr class="separator:ad21ff679aac3fe28202c6d592eafd3e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e3d6451dccc75ffa4e5f4e6e774b69"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 <br class="typebreak"/>
u_ I have high time resolution <br class="typebreak"/>
data that happens to include <br class="typebreak"/>
the data you require Both my <br class="typebreak"/>
dipolar and quadrupolar <br class="typebreak"/>
simulations have high time <br class="typebreak"/>
resolution data for several <br class="typebreak"/>
quantities These are the <br class="typebreak"/>
fieldline binaries that are <br class="typebreak"/>
dumped on the same time cycle <br class="typebreak"/>
as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can <br class="typebreak"/>
use those They are in binary <br class="typebreak"/>
float format rather than <br class="typebreak"/>
double in order to save space <br class="typebreak"/>
The columns of data given <br class="typebreak"/>
above are the fastest followed <br class="typebreak"/>
by then&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a></td></tr>
<tr class="separator:a89e3d6451dccc75ffa4e5f4e6e774b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e9dcead49913f5238d80f9a38495196"><td class="memItemLeft" align="right" valign="top">To convert from MKS to KS to <br class="typebreak"/>
here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 <br class="typebreak"/>
u_ I have high time resolution <br class="typebreak"/>
data that happens to include <br class="typebreak"/>
the data you require Both my <br class="typebreak"/>
dipolar and quadrupolar <br class="typebreak"/>
simulations have high time <br class="typebreak"/>
resolution data for several <br class="typebreak"/>
quantities These are the <br class="typebreak"/>
fieldline binaries that are <br class="typebreak"/>
dumped on the same time cycle <br class="typebreak"/>
as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can <br class="typebreak"/>
use those They are in binary <br class="typebreak"/>
float format rather than <br class="typebreak"/>
double in order to save space <br class="typebreak"/>
The columns of data given <br class="typebreak"/>
above are the fastest followed <br class="typebreak"/>
by then then k is slowest <br class="typebreak"/>
<a class="el" href="../../d0/d10/datadesc_8txt.html#a7f0f8d29ed710428d3e44fc490c725b7">index</a> Here both v <a class="el" href="../../d0/d10/datadesc_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a> and B <a class="el" href="../../d0/d10/datadesc_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a> <br class="typebreak"/>
are the vectors in the KS grid&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/ddc/datadesc__mb09_8txt.html#a4e9dcead49913f5238d80f9a38495196">frame</a></td></tr>
<tr class="separator:a4e9dcead49913f5238d80f9a38495196"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>~~~~ The data file for the dipole field model in MB09 is at:</p>
<p><a href="http://www.cfa.harvard.edu/~jmckinney/research/dump0050">http://www.cfa.harvard.edu/~jmckinney/research/dump0050</a></p>
<p>The file is aobut 1.6GB in size and from CFA took me 34mins to upload at 800KB/s.</p>
<p>The associated grid dump file is at:</p>
<p><a href="http://www.cfa.harvard.edu/~jmckinney/research/gdump">http://www.cfa.harvard.edu/~jmckinney/research/gdump</a></p>
<p>The file is aobut 2.8GB in size and from CFA took me 61mins to upload at 800KB/s. </p>
<hr/>
<p>That data file contains a (TN1xTN2xTN3=256x128x32) data block with a 1-line header that contains (21 items):</p>
<p>1) t : time 2,3,4) TN1,TN2,TN3 : grid size in r,, 5,6,7) startx[1,2,3] : start of MKS grid 8,9,10) dx[1,2,3] : step for MKS grid 11) nstep: number of steps up to that point 12) : adiabatic index 13) a (BH spin) 14,15,16,17) R0, Rin, Rout, hslope : MKS grid parameters 18) dt : timestep 19) defcoord : which MKS grid used 20,21) MBH, QBH : always MBH=1 and QBH=0 for Kerr for us</p>
<p>After the header comes a text line break and the data cube follows in C-order such that the columns of data indexed fastest, r(i) index is next fastest, (j) index is slower, and (k) is slowest index. All quantities are at the cell center. Below NDIM=4 is the number of dimensions.</p>
<p>The columns correspond to (72 of them):</p>
<p>1-3) ti tj tk : indices in i,j,k 4-6) x1 x2 x3 : MKS-coord positions 7-9) r h ph : BL/KS-coord positions 10-17) rho,u,v1,v2,v3,B1,B2,B3 : Here v^i is relative 4-velocity defined in MG04 and B^i=*F^{it} as in MG04, both are in MKS coordinates 18-20) p,cs2,Sden: pressure,c_s^2,entropy density 21-28) U0 U1 U2 U3 U4 U5 U6 U7 : conserved quantities in MKS coordinates 29) divb :  B : don't worry that non-zero on outer radial edge 30-37) uu0 uu1 uu2 uu3 ud0 ud1 ud2 ud3 : u^ and u_ in MKS 38-45) bu0 bu1 bu2 bu3 bd0 bd1 bd2 bd3 : b^ and b_ in MKS 46-51) v1m v1p v2m v2p v3m v3p : characteristic vels in 1,2,3 directions in MKS 52) gdet : {(-g)} 53-60) ju0 ju1 ju2 ju3 jd0 jd1 jd2 jd3 : j^ and j_ in MKS 61-72) fu0 fu1 fu2 fu3 fu4 fu5 fd0 fd1 fd2 fd3 fd4 fd5 : F^{} where (e.g.) fd0=F_{01}, fd1 = F_{02}, fd2 = F_{03}, fd3 = F_{12}, fd4 = F_{13}, fd5 = F_{23} </p>
<hr/>
<p>That grid file has the same structure as the data file but with a different number of columns and different functions for each column.</p>
<p>The columns (126 of them) correspond to:</p>
<p>1-3) ti tj tk : indices in i,j,k 4-6) x1 x2 x3 : MKS-coord positions 7-9) r h ph : BL/KS-coord positions +NDIM*NDIM*NDIM : ^p_{qr} where p is slowest, q faster, and r fastest. +NDIM*NDIM: g^{pq} : p slower, q faster +NDIM*NDIM: g_{pq} : p slower, q faster +1 : {-g} +NDIM:  : 2nd connection (probably not important or 0) +NDIM*NDIM: dV^p/dX^q : derivative of V (t,r,,) w.r.t. X (MKS), p slower, q faster </p>
<hr/>
<p>Explicit coords are defcoord=JET3COORDS=9 and corresponds to (where V[1,2,3]={r,,}): </p>
<pre class="fragment">npow=1.0;
r1jet=2.8;
njet=0.3;
r0jet=20.0;
rsjet=80.0;
Qjet=1.3;

V[1] = R0+exp(pow(X[1],npow)) ;

myhslope=2.0-Qjet*pow(V[1]/r1jet,-njet*(0.5+1.0/M_PI*atan(V[1]/r0jet-rsjet/r0jet)));

if(X[2]&lt;0.5){
  V[2] = M_PI * X[2] + ((1. - myhslope) / 2.) * mysin(2. * M_PI * X[2]);
}
else{
  V[2] = M_PI - (M_PI * (1.0-X[2])) + ((1. - myhslope) / 2.) * (-mysin(2. * M_PI * (1.0-X[2])));
}

V[3]=2.0*M_PI*X[3];

startx[1] = pow(log(Rin-R0),1.0/npow);
startx[2] = 0.;
startx[3] = 0.;
dx[1] = (pow(log(Rout-R0),1.0/npow)-pow(log(Rin-R0),1.0/npow)) / totalsize[1];
dx[2] = 1. / totalsize[2];
dx[3] = 1.0/totalsize[3];
</pre><hr/>
<p> To convert from MKS to KS one would do:</p>
<p>u^j[KS] = T^j_k u^k[MKS] where T^j_k = dV^j/dX^k as is obvious once you note that u^k = dx^k/d</p>
<p>u_j[KS] = [(T)^{-1}]^k_j u_k[MKS] where [(T)^{-1}]^k_j is the matrix inverse of T^j_k (no additional transpose)</p>
<p>The presence of the transpose or not can be determined by ensuring you always match the indices to the correct component type (MKS or KS).</p>
<p>Note that I use numerical recipes (NR) to do the inverse. You can use whatever you like. I don't have a separate code that does that &ndash; I've integrated NR into my code too much.</p>
<p>Explicit code snippets, where below dxdxp[j][k]=dV^j/dX^k</p>
<p>#define <a class="el" href="../../d0/d10/datadesc_8txt.html#ab5b70bff801aef7a25c71e880d4f76b3">DLOOPA(j)</a> for(j=0;j&lt;NDIM;j++) #define <a class="el" href="../../d0/d10/datadesc_8txt.html#a34867855cf219b5718eb5846fb33a42d">DLOOP(j,k)</a> for(j=0;j&lt;NDIM;j++)for(k=0;k&lt;NDIM;k++)</p>
<p>prime MCOORD -&gt; MCOORD for u^ void metptomet_ucon_simple(FTYPE dxdxp[][NDIM], FTYPE*ucon) { int j,k; FTYPE tmp[NDIM];</p>
<p>/* transform ucon </p>

<p>Definition in file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a34867855cf219b5718eb5846fb33a42d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DLOOP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d10/datadesc_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">k&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab5b70bff801aef7a25c71e880d4f76b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">DLOOPA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d10/datadesc_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a6574e97ba25d2db38131cad206e44e45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to BL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00150">150</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="aa16bdf9332103ef47306edd18c5a3675"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 u_ I have high time resolution data that happens to include the data you require Both my dipolar and quadrupolar simulations have high time resolution data for several quantities These are the fieldline binaries that are dumped on the same time cycle as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of dt</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=2<a class="code" href="../../d9/d53/metric_8c.html#a52037c938e3c1b126c6277da5ca689d0">M</a>.  These <span class="stringliteral">&quot;fieldline&quot;</span> <a class="code" href="../../d0/ddc/datadesc__mb09_8txt.html#a89abceb1f5e607b7074378156fa8f94b">dumps</a> contain:</div>
<div class="line"></div>
<div class="line">rho</div>
<div class="line">u</div>
<div class="line">-u_t</div>
<div class="line">-T^r_t/(\rho_0 u^r)</div>
<div class="line">u^<a class="code" href="../../d8/d5b/defs_8general_8h.html#ae1ee1e1c83c3f70e2e1afed4f4f5b41e">t</a></div>
<div class="line">v^r</div>
<div class="line">v^\theta</div>
<div class="line">v^\phi</div>
<div class="line">B^r</div>
<div class="line">B^\theta</div>
<div class="line">B^\phi</div>
<div class="line"></div>
<div class="line">So <span class="keywordflow">if</span> you need higher time-resolution</div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00196">196</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a89abceb1f5e607b7074378156fa8f94b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 u_ I have high time resolution data that happens to include the data you require Both my dipolar and quadrupolar simulations have high time resolution data for several quantities These are the fieldline binaries that are dumped on the same time cycle as dumps</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00153">153</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a4e9dcead49913f5238d80f9a38495196"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 u_ I have high time resolution data that happens to include the data you require Both my dipolar and quadrupolar simulations have high time resolution data for several quantities These are the fieldline binaries that are dumped on the same time cycle as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can use those They are in binary float format rather than double in order to save space The columns of data given above are the fastest followed by then then k is slowest <a class="el" href="../../d0/d10/datadesc_8txt.html#a7f0f8d29ed710428d3e44fc490c725b7">index</a> Here both v <a class="el" href="../../d0/d10/datadesc_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a> and B <a class="el" href="../../d0/d10/datadesc_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a> are the vectors in the KS grid frame</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00196">196</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="ad21ff679aac3fe28202c6d592eafd3e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 u_ I have high time resolution data that happens to include the data you require Both my dipolar and quadrupolar simulations have high time resolution data for several quantities These are the fieldline binaries that are dumped on the same time cycle as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can use those They are in binary float format rather than double in order to save space The columns of data given above are the fastest followed by i</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00196">196</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a7f0f8d29ed710428d3e44fc490c725b7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 u_ I have high time resolution data that happens to include the data you require Both my dipolar and quadrupolar simulations have high time resolution data for several quantities These are the fieldline binaries that are dumped on the same time cycle as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can use those They are in binary float format rather than double in order to save space The columns of data given above are the fastest index</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00196">196</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a89e3d6451dccc75ffa4e5f4e6e774b69"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 u_ I have high time resolution data that happens to include the data you require Both my dipolar and quadrupolar simulations have high time resolution data for several quantities These are the fieldline binaries that are dumped on the same time cycle as which is <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> period of we can use those They are in binary float format rather than double in order to save space The columns of data given above are the fastest followed by then j</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00196">196</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a09ff43f0b783688e7ffeff6596ef60a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu3 u_ mu[MKS]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00153">153</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a924023fb1fbfd0110f364b6a9c712fe4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write up</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00150">150</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a44face73360fe327f00406307e2749a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00150">150</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
<a class="anchor" id="a671f79e6b6543457f32b6ca03a477e51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">To convert from MKS to KS to here s <a class="el" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a> semi latex write uu2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html#l00150">150</a> of file <a class="el" href="../../d0/ddc/datadesc__mb09_8txt_source.html">datadesc_mb09.txt</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 20 2016 15:52:36 for HARM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
