<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>HARM: docs/sm/2.txt File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HARM
   </div>
   <div id="projectbrief">harm and utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">docs/sm/2.txt File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="fragment"><div class="line">1) Get the harm_sm repository:</div>
<div class="line"></div>
<div class="line">mkdir mysm ; <a class="code" href="../../d9/d54/other6_8txt.html#abea40877aa2ce569e5f9e3a264872b54">cd</a> mysm</div>
<div class="line">svn checkout https:<span class="comment">//harm.unfuddle.com/svn/harm_sm/ .</span></div>
<div class="line"></div>
<div class="line">Also <span class="keyword">get</span> the SM macros:</div>
<div class="line">svn co https:<span class="comment">//harm.unfuddle.com/svn/harm_harmsmmacros/</span></div>
<div class="line"></div>
<div class="line">2) Edit the Makefile and change <span class="stringliteral">&quot;/home/jon/research/utils/sm/sm2_4_1&quot;</span> to the directory you have chosen and attach <span class="stringliteral">&quot;/src&quot;</span> to the end</div>
<div class="line"></div>
<div class="line">3) Edit the Makefile and change <span class="stringliteral">&quot;DEST = /usr/local&quot;</span> to where you want to install SM</div>
<div class="line"></div>
<div class="line">4) The code should be setup already <span class="keywordflow">for</span> good settings, but <span class="keywordflow">if</span> you have problems compiling in the next step, you can <span class="keywordflow">try</span> following the instructions in <span class="stringliteral">&quot;sm.install&quot;</span>.</div>
<div class="line"></div>
<div class="line">5) make clean ; make</div>
<div class="line"></div>
<div class="line">6) If you <span class="keyword">get</span> an error about <span class="stringliteral">&quot;cannot find -lX11&quot;</span> then you should open the Makefile and edit the CC= line so the -L/usr/X11R6/lib points to your library.  For example, <span class="keywordflow">for</span> 64-bit computers it needs to be /usr/X11R6/lib64/</div>
<div class="line"></div>
<div class="line">7) make clean ; make again <span class="keywordflow">if</span> you did #6</div>
<div class="line"></div>
<div class="line">8) Make the DEST directory</div>
<div class="line"></div>
<div class="line">9) You may be required to <span class="keyword">remove</span> all <span class="stringliteral">&quot;.svn&quot;</span> directories or <span class="keywordflow">else</span> the installer gets confused.</div>
<div class="line"></div>
<div class="line">rm -<a class="code" href="../../d9/d54/other6_8txt.html#a159e0e9e544b9a0c44070100099776de">rf</a> `find . -name .svn`</div>
<div class="line"></div>
<div class="line">10) make install  [and note the things it installed since you want to make sure SM (and the .sm file<span class="stringliteral">&#39;s uses those path&#39;</span>s instead of yours--or overwrite your old SM stuff with the <span class="keyword">new</span> stuff].  I<span class="stringliteral">&#39;m most worried about the binaries it compiles that were in &quot;lib&quot;</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">11a) Move the harm_harmsmmacros directory to the home directory and rename it as &quot;sm&quot; so that the ~/sm/ directory contains actual files (i.e. not another directory from the repo!)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">11b) Move the SM macros file from the HARM_SM macros repository: mydotsm/.sm to ~/ (i.e. your home directory).   Choose the &quot;ki-jmck&quot; version of the .sm file to start with.  Edit the file to be consistent with the installed files, such as the &quot;lib/sm/&quot; directory and the &quot;/home/jon&quot; directory and the &quot;/home/jon/sm&quot; directory should point to the location where the SM macros are.</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">12) The installation directory (if it&#39;</span>s not /usr/local/ or /usr when you are root) will contain <span class="stringliteral">&quot;man&quot;</span> <span class="stringliteral">&quot;emacs&quot;</span> <span class="stringliteral">&quot;bin&quot;</span> and <span class="stringliteral">&quot;lib&quot;</span> directories.</div>
<div class="line"></div>
<div class="line">a) Copy the contents of those files to your user-located data.  For example, you should have a ~/bin/ and so put the contents of <span class="stringliteral">&quot;bin/&quot;</span> in there:</div>
<div class="line"></div>
<div class="line">cp -a &lt;DEST DIR&gt;/bin<span class="comment">/* ~/bin/</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">and ensure that ~/bin/ is in your path.  For example, for bash, ensure in ~/.bashrc you have:</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">PATH=~/bin:$PATH</span></div>
<div class="line"><span class="comment">export PATH</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">b) For the &quot;lib&quot; contents, you need to do 2 things.  First, for bash, in ~/.bashrc you should have (obviously replace &lt;DEST DIR&gt; with the true DEST dir used above):</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">if [ -z $LD_LIBRARY_PATH  ]; then</span></div>
<div class="line"><span class="comment"> LD_LIBRARY_PATH=&lt;DEST DIR&gt;/lib/</span></div>
<div class="line"><span class="comment">else</span></div>
<div class="line"><span class="comment"> LD_LIBRARY_PATH=&lt;DEST DIR&gt;/lib:${LD_LIBRARY_PATH}</span></div>
<div class="line"><span class="comment">fi</span></div>
<div class="line"><span class="comment">#for user libs</span></div>
<div class="line"><span class="comment">export LD_LIBRARY_PATH</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">Second, the &lt;DEST DIR&gt;/lib/sm/ directory should be pointed to within the &quot;.sm&quot; file.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">c) There is also probably a way to assign user man pages pointing to the &quot;man&quot; dir.  See google.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">d) The &quot;emacs&quot; directory&#39;s contents could be copied to ~/.emacs/ or somewhere.  See google or sm docs.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">See inside emacs/sm.el  Maybe copy to ~/emacs/site-lisp/sm.el and then inside your .emacs file you add the stuff mentioned in the top of sm.el and just change ~rhl/sm/sm.el to that location you put the sm.el file.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">13) When running sm, I suggest creating a script in ~/bin/jsm</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">The jsm file should contain:</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">#!/bin/bash</span></div>
<div class="line"><span class="comment">export TERM=vt100</span></div>
<div class="line"><span class="comment">&lt;DEST DIR&gt;/bin/sm -m smstart -q $@</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">14) To get the proper /etc/termcap entry for vt100, do on ubuntu:</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">sudo apt-get install libncurses5-dev</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">15) And also edit again .sm so that /etc/termcap is instead your home directory path with appending /sm/termcap .  E.g. /home/jon/sm/termcap</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">16) Run: jsm</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">17) See online docs at: http://www.astro.princeton.edu/~rhl/sm/</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">18) E.g.</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"><span class="comment">B) cd to the &quot;run&quot; directory (i.e. not dumps or images directory) using harm</span></div>
<div class="line"><span class="comment">C) jsm</span></div>
<div class="line"><span class="comment">D) gogrmhd</span></div>
<div class="line"><span class="comment">E) jrdpcf3duentropy dump0000</span></div>
<div class="line"><span class="comment">F) plc 0 lrho # This will plot the log of density as contours</span></div>
</div><!-- fragment --> 
<p>Definition in file <a class="el" href="../../da/d82/sm_22_8txt_source.html">2.txt</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 20 2016 15:52:36 for HARM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
