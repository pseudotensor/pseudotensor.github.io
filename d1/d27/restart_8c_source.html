<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>HARM: restart.c Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HARM
   </div>
   <div id="projectbrief">harm and utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">restart.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d1/d27/restart_8c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;decs.h&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d10/restart_8h.html" title="Function declarations for restart.c.">restart.h</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> restart_process_extra_variables(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> restartupperpole_set(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keywordtype">int</span> extrarestartfunction_new(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;  <span class="comment">// nothing new to do</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;}</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keywordtype">int</span> restart_init(<span class="keywordtype">int</span> which)</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  trifprintf(<span class="stringliteral">&quot;begin restart init\n&quot;</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// set random seed</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment"></span>  ranc(1,0);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;  <span class="comment">// get restart header and grid data</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span>  restart_read(which);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  <span class="comment">// set any extra things (only used with restart.rebeccaoldcode.c)</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment"></span>  trifprintf(<span class="stringliteral">&quot;before extrarestartfunction()\n&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <a class="code" href="../../d7/d10/restart_8h.html#a7a381397dbabe1eea013f468526a0dd5">extrarestartfunction</a>();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  <span class="comment">// get restart old metric</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a149d0d31999a38ec3870e1e4a4eecf67" title="careful not to use DOMIXTHETAPHI in .h files since init.h might change it.">DOEVOLVEMETRIC</a>){</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    trifprintf(<span class="stringliteral">&quot;before restartmetric_read(which)\n&quot;</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    restartmetric_read(which);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="comment">// process variables not written to file</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment"></span>  trifprintf(<span class="stringliteral">&quot;before restart_process_extra_variables()\n&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  restart_process_extra_variables();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    </div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="comment">// set all CPUs to have same restart header stuff (needed in mpicombine==1 mode)</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment"></span>  trifprintf(<span class="stringliteral">&quot;before restart_read_defs()\n&quot;</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  restart_read_defs();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  <span class="comment">// set coordinate parameters by reading coordparms.dat</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// assumes doesn&#39;t overwrite what just set (i.e. what&#39;s written to restart file)</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment"></span>  trifprintf(<span class="stringliteral">&quot;before read_coord_parms()\n&quot;</span>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <a class="code" href="../../d9/de9/coord_8c.html#a78425dc3bae629a1a4f7f9926de1aba3" title="read coordinate parameters">read_coord_parms</a>(<a class="code" href="../../d8/d5b/defs_8general_8h.html#a07aa730709566649748925d2ae0aae77">defcoord</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="comment">// write header to screen to all CPUs</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span>  trifprintf(<span class="stringliteral">&quot;before write_restart_header(TEXTOUTPUT,log_file)\n&quot;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  logfprintf(<span class="stringliteral">&quot;header contents below\n&quot;</span>); </div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ab936051f5aaca44c6c3c41dee0d19c36">log_file</a>) <a class="code" href="../../d0/d71/global_8dump_8h.html#a0a0fe01f0fc7a641204ea3006bcdb981">write_restart_header</a>(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a4efc89d62b3cbcce49f4a0ff7316d8a3">RESTARTDUMPTYPE</a>,<a class="code" href="../../d8/d5b/defs_8general_8h.html#a52157789abda8aed5141463492ff15dd">dnumversion</a>[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a4efc89d62b3cbcce49f4a0ff7316d8a3">RESTARTDUMPTYPE</a>],<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2e66e534829f48770a2d3f6fdade7cc8">dnumcolumns</a>[RESTARTDUMPTYPE],<a class="code" href="../../d5/d14/mympi_8global_8nondepmnemonics_8h.html#a2927c7a2f9bac08381bfb2e1a543e1e8">TEXTOUTPUT</a>,<a class="code" href="../../d8/d5b/defs_8general_8h.html#ab936051f5aaca44c6c3c41dee0d19c36">log_file</a>);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;  <span class="comment">// check if failed inside rdump file</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment"></span>  <span class="keywordflow">if</span>(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad4ec5aab9b62fbbe9b8fc2d8ac0a5989">failed</a>!=0){</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ab936051f5aaca44c6c3c41dee0d19c36">log_file</a>,<span class="stringliteral">&quot;WARNING: failed=%d in rdump file.  Must clense the way between us.\n&quot;</span>,<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad4ec5aab9b62fbbe9b8fc2d8ac0a5989">failed</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ab936051f5aaca44c6c3c41dee0d19c36">log_file</a>,<span class="stringliteral">&quot;Setting failed=0\n&quot;</span>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="../../d8/d5b/defs_8general_8h.html#ad4ec5aab9b62fbbe9b8fc2d8ac0a5989">failed</a>=0;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="comment">// certain global.h parameters may override restart parameters.  This happens, say, when the user decides not to DOAVG after restart, but DOAVGDIAG is still set.  Without this the code will segfault in diag.c</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="comment">// corresponds to &quot;if&quot; statements in initbase.c as well, where user has either choice or no choice.</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a2fa9dc0d1ed94c6a535f5584c3c65e3c" title="0: don&#39;t perform performance test 1: do">DOAVG</a>==0) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a400277a90065d2e5f1bed0135c43dd85">DOAVGDIAG</a>=0;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="comment">// test read by looking at written file</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="comment"></span>  trifprintf(<span class="stringliteral">&quot;before restart_write(3)\n&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  restart_write(3);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  <span class="comment">// can&#39;t check (e.g.) images here if wanting to look at conserved quantities</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  trifprintf(<span class="stringliteral">&quot;proc: %d t=%21.15g failed=%d\n&quot;</span>, myid, <a class="code" href="../../d8/d5b/defs_8general_8h.html#ae1ee1e1c83c3f70e2e1afed4f4f5b41e">t</a>, <a class="code" href="../../d8/d5b/defs_8general_8h.html#ad4ec5aab9b62fbbe9b8fc2d8ac0a5989">failed</a>);</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;  <span class="comment">// very basic checks on primary grid-based quantities read from restart dump</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;  restart_init_simple_checks(1);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;  trifprintf(<span class="stringliteral">&quot;end restart_init\n&quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;}</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keywordtype">int</span> restart_process_extra_variables(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;{</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="../../d0/ddc/datadesc__mb09_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a>,<a class="code" href="../../d0/ddc/datadesc__mb09_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>,k;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  <span class="comment">// if evolving entropy need to reset primitive to avoid error checks detecting problem</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#abf90251d9bf1eb0bf77da8cd95bb79a9" title="#define WHICHEOS MIGNONE define WHICHEOS GRBPWF99 define WHICHEOS KAZFULL">DOENTROPY</a>!=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abad06a3d5a7c1f930198d04b94d4d15a" title="mnenomics for DOENTROPY">DONOENTROPY</a>){</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <a class="code" href="../../da/db2/global_8loops_8manypoints_8h.html#a615c1d48363ecaa0866f1c0fd337b780">FULLLOOP</a> GLOBALMACP0A1(pglobal,i,j,k,ENTROPY) = GLOBALMACP0A1(pglobal,i,j,k,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a94db1ec6a412a83becda73ca2a5db0bf">UU</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  }</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;<span class="keywordtype">int</span> restart_write(<span class="keywordtype">long</span> dump_cnt)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;{</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  MPI_Datatype datatype;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;  <span class="keywordtype">int</span> whichdump;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  <span class="keywordtype">char</span> fileprefix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <span class="keywordtype">char</span> filesuffix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordtype">char</span> fileformat[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keywordtype">long</span> truedump_cnt;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  <span class="comment">// get special upperpole restart header and grid data (do inside restart_read() since always want this file with standard restart file)</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d8/d5b/defs_8general_8h.html#a11c4e99e1493d0c1914ad1ab313ea472">FLUXB</a>==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0b6762cef74e396f50a83864bb53fb6c">FLUXCTSTAG</a> &amp;&amp; <a class="code" href="../../d8/d5b/defs_8general_8h.html#a67cb78168551d0bd18591a73d82dccf1" title="ENO DEBUG GLOBAL VARS.">special3dspc</a>==1 &amp;&amp; <a class="code" href="../../da/d3e/definit_8h.html#ad66109fbdc4d3adc9c3d6ff917038aef">N3</a>&gt;1) restartupperpole_write(dump_cnt);</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  trifprintf(<span class="stringliteral">&quot;begin dumping rdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  whichdump=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a4efc89d62b3cbcce49f4a0ff7316d8a3">RESTARTDUMPTYPE</a>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  datatype=MPI_FTYPE;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;  strcpy(fileprefix,<span class="stringliteral">&quot;dumps/rdump&quot;</span>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  <span class="keywordflow">if</span>(dump_cnt&gt;=0) {</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    strcpy(fileformat,<span class="stringliteral">&quot;-%01ld&quot;</span>); <span class="comment">// very quick restart</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    truedump_cnt=dump_cnt;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    strcpy(fileformat,<span class="stringliteral">&quot;--%04ld&quot;</span>); <span class="comment">// assumed at some longer cycle and never overwritten .. must rename this to normal format to use as real rdump.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    truedump_cnt=-dump_cnt-1;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  strcpy(filesuffix,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  </div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">if</span>(dump_gen(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ab63ec178b2d4d9acb2141c5f2422036d">WRITEFILE</a>,truedump_cnt,<a class="code" href="../../d8/d5b/defs_8general_8h.html#a04767aafce2d594a681b4d39134050c8">binaryoutput</a>,whichdump,datatype,fileprefix,fileformat,filesuffix,<a class="code" href="../../d0/d71/global_8dump_8h.html#a0a0fe01f0fc7a641204ea3006bcdb981">write_restart_header</a>,rdump_content)&gt;=1) <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  trifprintf(<span class="stringliteral">&quot;end dumping rdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="keywordtype">void</span> set_rdump_content_dnumcolumns_dnumversion(<span class="keywordtype">int</span> *<a class="code" href="../../dd/d46/mpidefs_8h.html#a3a47380236d4eb5437b8fbce2d881756">numcolumns</a>, <span class="keywordtype">int</span> *numversion)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;{</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;  <span class="comment">// always NPR</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;  <span class="comment">//*numcolumns=NPR*2; // primitives and conservatives</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="comment">//*numcolumns=NPR; // primitives only</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <span class="comment">// spatial debug counters not crucial</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="comment">//  *numcolumns=NPR*2 + dnumcolumns[VPOTDUMPTYPE] + dnumcolumns[FAILFLOORDUDUMPTYPE] + dnumcolumns[DEBUGDUMPTYPE] ;</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;  *numcolumns=NPR*2 + <a class="code" href="../../d8/d5b/defs_8general_8h.html#a2e66e534829f48770a2d3f6fdade7cc8">dnumcolumns</a>[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a044b92aa26c8c10ce1d1bf689485de3c">DISSDUMPTYPE</a>] + <a class="code" href="../../d8/d5b/defs_8general_8h.html#a2e66e534829f48770a2d3f6fdade7cc8">dnumcolumns</a>[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7291f504c1e28c6451e55d0d778dfeee">FAILFLOORDUDUMPTYPE</a>] ;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a10c2a32787a08dc5ca8ee25788232ab5" title="whether to redefine fields from A_i during evolution currently only done after each full timestep to ...">EVOLVEWITHVPOT</a>||<a class="code" href="../../da/d3e/definit_8h.html#a3a15a632c4a89c05af66b680733eb82c" title="whether to track and dump A_i the vector potential">TRACKVPOT</a>){</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment">// even with TRACKVPOT, with vpot as diagnostic, don&#39;t regenerate vpot from B, so need to store in restart file so can continue updating it.s</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    *numcolumns += dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>];</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  *numversion=1;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;}</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="keywordtype">int</span> rdump_content(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, MPI_Datatype datatype,<span class="keywordtype">void</span> *writebuf)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="comment">// ensure what is written (even at t=0) for fake entropy primitive is just internal energy, as assumed through-out evolution.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <span class="keywordflow">if</span>(ENTROPY&gt;=0){</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;    GLOBALMACP0A1(pglobal,i,j,k,ENTROPY)=GLOBALMACP0A1(pglobal,i,j,k,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a94db1ec6a412a83becda73ca2a5db0bf">UU</a>);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  }</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;  <span class="comment">// always NPR</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;  myset(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(pglobal,i,j,k),0,NPR,writebuf);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;  myset(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(unewglobal,i,j,k),0,NPR,writebuf);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;  <span class="comment">// NOTEMARK: see also dump.c</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a10c2a32787a08dc5ca8ee25788232ab5" title="whether to redefine fields from A_i during evolution currently only done after each full timestep to ...">EVOLVEWITHVPOT</a>||<a class="code" href="../../da/d3e/definit_8h.html#a3a15a632c4a89c05af66b680733eb82c" title="whether to track and dump A_i the vector potential">TRACKVPOT</a>){</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;      <span class="keywordtype">int</span> jj;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="keywordflow">for</span>(jj=0;jj&lt;dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>];jj++){</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        myset(datatype,&amp;GLOBALMACP1A0(vpotarraydump,jj,i,j,k),0,1,writebuf); <span class="comment">// 1 each</span></div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      }</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  </div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a044b92aa26c8c10ce1d1bf689485de3c">DISSDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    myset(datatype,&amp;<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(dissfunpos,i,j,k),0,dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a044b92aa26c8c10ce1d1bf689485de3c">DISSDUMPTYPE</a>],writebuf);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;  <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7291f504c1e28c6451e55d0d778dfeee">FAILFLOORDUDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    myset(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(failfloordu,i,j,k),0,dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7291f504c1e28c6451e55d0d778dfeee">FAILFLOORDUDUMPTYPE</a>],writebuf);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;  }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="comment">// too many of these and not crucial since just counters</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  <span class="comment">//  if(dnumcolumns[DEBUGDUMPTYPE]&gt;0){</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  <span class="comment">//    myset(datatype,GLOBALMAC(failfloorcount,i,j,k),0,dnumcolumns[DEBUGDUMPTYPE],writebuf);</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;  <span class="comment">//  }</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;}</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;<span class="keywordtype">int</span> restart_read(<span class="keywordtype">long</span> dump_cnt)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;{</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;  MPI_Datatype datatype;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordtype">int</span> whichdump;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  <span class="keywordtype">char</span> fileprefix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordtype">char</span> filesuffix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  <span class="keywordtype">char</span> fileformat[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  <span class="keywordtype">int</span> bintxt;</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="comment">// get special upperpole restart header and grid data (do inside restart_read() since always want this file with standard restart file)</span></div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../d8/d5b/defs_8general_8h.html#a11c4e99e1493d0c1914ad1ab313ea472">FLUXB</a>==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0b6762cef74e396f50a83864bb53fb6c">FLUXCTSTAG</a> &amp;&amp; <a class="code" href="../../d8/d5b/defs_8general_8h.html#a67cb78168551d0bd18591a73d82dccf1" title="ENO DEBUG GLOBAL VARS.">special3dspc</a>==1 &amp;&amp; <a class="code" href="../../da/d3e/definit_8h.html#ad66109fbdc4d3adc9c3d6ff917038aef">N3</a>&gt;1) restartupperpole_read(dump_cnt);</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <span class="keywordflow">else</span> restartupperpole_set();</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;  trifprintf(<span class="stringliteral">&quot;begin reading rdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  whichdump=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a4efc89d62b3cbcce49f4a0ff7316d8a3">RESTARTDUMPTYPE</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  datatype=MPI_FTYPE;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  bintxt=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a04767aafce2d594a681b4d39134050c8">binaryoutput</a>;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  strcpy(fileprefix,<span class="stringliteral">&quot;dumps/rdump&quot;</span>);</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  strcpy(fileformat,<span class="stringliteral">&quot;-%01ld&quot;</span>);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  strcpy(filesuffix,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160; </div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  <span class="keywordtype">int</span> failreturn;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  failreturn=dump_gen(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac71325c6071d23f9a934a4780445950b">READFILE</a>,dump_cnt,bintxt,whichdump,datatype,fileprefix,fileformat,filesuffix,<a class="code" href="../../d0/d71/global_8dump_8h.html#a0f9a9310f27a78c898e5c0a31a888e96">read_restart_header</a>,rdump_read_content);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  </div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <span class="keywordflow">if</span>(failreturn==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a555d564d1f055c83c305f435f2945615" title="return code used to indicate failure of dump_gen() was file not found instead of any other error...">FILENOTFOUND</a>){</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>,<span class="stringliteral">&quot;restart file not found\n&quot;</span>);</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    myexit(87343363);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  }</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(failreturn&gt;0){</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>,<span class="stringliteral">&quot;restart file: other read error\n&quot;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    myexit(7165766);</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  }</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  <span class="comment">// NOTE: for FLUXB==FLUXCTSTAG, unewglobal and vpot are bounded in initbase.c for boundary edges and inter-MPI edges</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  trifprintf(<span class="stringliteral">&quot;end reading rdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;}</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="keywordtype">int</span> rdump_read_content(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, MPI_Datatype datatype,<span class="keywordtype">void</span> *writebuf)</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="comment">// always NPR</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  myget(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(pglobal,i,j,k),0,NPR,writebuf);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;  myget(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(unewglobal,i,j,k),0,NPR,writebuf);</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;  <span class="comment">// NOTEMARK: see also dump.c</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a10c2a32787a08dc5ca8ee25788232ab5" title="whether to redefine fields from A_i during evolution currently only done after each full timestep to ...">EVOLVEWITHVPOT</a>||<a class="code" href="../../da/d3e/definit_8h.html#a3a15a632c4a89c05af66b680733eb82c" title="whether to track and dump A_i the vector potential">TRACKVPOT</a>){</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;      <span class="keywordtype">int</span> jj;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;      <span class="keywordflow">for</span>(jj=0;jj&lt;dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>];jj++){</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;        myget(datatype,&amp;GLOBALMACP1A0(vpotarraydump,jj,i,j,k),0,1,writebuf); <span class="comment">// 1 each</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      }</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a044b92aa26c8c10ce1d1bf689485de3c">DISSDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    myget(datatype,&amp;<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(dissfunpos,i,j,k),0,dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a044b92aa26c8c10ce1d1bf689485de3c">DISSDUMPTYPE</a>],writebuf);</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;  }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;  <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7291f504c1e28c6451e55d0d778dfeee">FAILFLOORDUDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    myget(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(failfloordu,i,j,k),0,dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7291f504c1e28c6451e55d0d778dfeee">FAILFLOORDUDUMPTYPE</a>],writebuf);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  }</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;  <span class="comment">// counters not crucial</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;  <span class="comment">//  if(dnumcolumns[DEBUGDUMPTYPE]&gt;0){</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;  <span class="comment">//    myget(datatype,GLOBALMAC(failfloorcount,i,j,k),0,dnumcolumns[DEBUGDUMPTYPE],writebuf);</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;  <span class="comment">//  }</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;  </div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;}</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;<span class="keywordtype">int</span> restartupperpole_read(<span class="keywordtype">long</span> dump_cnt)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;{</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  MPI_Datatype datatype;</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;  <span class="keywordtype">int</span> whichdump;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <span class="keywordtype">char</span> fileprefix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <span class="keywordtype">char</span> filesuffix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <span class="keywordtype">char</span> fileformat[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordtype">int</span> bintxt;</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;  <span class="keywordtype">int</span> restartupperpole_set(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;  trifprintf(<span class="stringliteral">&quot;begin reading rdumpupperpole# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;  whichdump=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7af61517787c48d4bc2b0695eb28afda">RESTARTUPPERPOLEDUMPTYPE</a>;</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;  datatype=MPI_FTYPE;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;  bintxt=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a04767aafce2d594a681b4d39134050c8">binaryoutput</a>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  strcpy(fileprefix,<span class="stringliteral">&quot;dumps/rdumpupperpole&quot;</span>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  strcpy(fileformat,<span class="stringliteral">&quot;-%01ld&quot;</span>);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  strcpy(filesuffix,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160; </div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;  <span class="keywordtype">int</span> failreturn;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  failreturn=dump_gen(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac71325c6071d23f9a934a4780445950b">READFILE</a>,dump_cnt,bintxt,whichdump,datatype,fileprefix,fileformat,filesuffix,read_restartupperpole_header,rupperpoledump_read_content);</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;  <span class="keywordflow">if</span>(failreturn==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a555d564d1f055c83c305f435f2945615" title="return code used to indicate failure of dump_gen() was file not found instead of any other error...">FILENOTFOUND</a>){</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>,<span class="stringliteral">&quot;SUPERWARNING: resetting upperpole to zero since no restart file for upperpole is available\n&quot;</span>);</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    restartupperpole_set();</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(failreturn&gt;0) <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    </div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;<span class="preprocessor">#if(0)</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;<span class="preprocessor"></span>  <span class="comment">// NOT USED ANYMORE, but, if did remapping, it would look something like the below.</span></div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;  {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="comment">// SPECIAL CASE:</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    <span class="comment">// now that have read-in shifted values, must assign them to correct locations</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;    </div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/ddc/datadesc__mb09_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a>,<a class="code" href="../../d0/ddc/datadesc__mb09_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>,k,pliter,pl;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    jshifted=j+<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a4601f340e88302d63182d0844c4e3c09" title="x2">SHIFT2</a>;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <a class="code" href="../../da/db2/global_8loops_8manypoints_8h.html#a8f7c05b4d7a80108f2b5faa3157f04ec">LOOPF1</a> <a class="code" href="../../da/db2/global_8loops_8manypoints_8h.html#a4a1361ceacce469b69faca103bf39f09" title="Many-point loops (but not computational)">LOOPF3</a>{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;      <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af1c67086436007e897bccc458390886f" title="PLOOP controls looping over conserved or primitive -type quantities except during interpolation or ot...">PLOOP</a>(pliter,pl){</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="comment">// if(pl==B1 || pl==B2 || pl==B3){</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">if</span>(pl==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a6945d50f798e1fde624d70c74457090e">B2</a>){</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          GLOBALMACP0A1(unewglobal,i,jshifted-SHIFT2,k,pl)=GLOBALMACP0A1(unewglobal,i,jshifted,k,pl);</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;        }</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;      }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;  }</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;  trifprintf(<span class="stringliteral">&quot;end reading rdumpupperpole# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;}</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;<span class="keyword">static</span> <span class="keywordtype">int</span> restartupperpole_set(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../dd/d46/mpidefs_8h.html#ac3a964fb7b8404428db52c2588d52381">mycpupos</a>[2]==<a class="code" href="../../dd/d46/mpidefs_8h.html#a2b69fb4a20e91ae01ef8452216afb784">ncpux2</a>-1){<span class="comment">// only need to operate on true upper pole</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">// then assume user knows what they are doing and just set array to zero</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../d0/ddc/datadesc__mb09_8txt.html#ad21ff679aac3fe28202c6d592eafd3e6">i</a>,<a class="code" href="../../d0/ddc/datadesc__mb09_8txt.html#a89e3d6451dccc75ffa4e5f4e6e774b69">j</a>,k,jshifted;</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    <a class="code" href="../../dd/d5e/global_8loops_8diagnostics_8h.html#acaa43bf4740c8a5bda4efe428781401c">DUMPGENLOOP</a>{ <span class="comment">// same loop as dump_gen() uses</span></div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;      <span class="keywordflow">if</span>(j!=<a class="code" href="../../da/d3e/definit_8h.html#acd864640121c7df2c19f61f7baa507e4">N2</a>-1) <span class="keywordflow">continue</span>; <span class="comment">// force only assignment right at j==N2 so still doesn&#39;t matter what order the normal and upperpole restart calls are made</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;      jshifted=j+<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a4601f340e88302d63182d0844c4e3c09" title="x2">SHIFT2</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;      GLOBALMACP0A1(unewglobal,i,jshifted,k,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a6945d50f798e1fde624d70c74457090e">B2</a>)=0.0;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;      <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a10c2a32787a08dc5ca8ee25788232ab5" title="whether to redefine fields from A_i during evolution currently only done after each full timestep to ...">EVOLVEWITHVPOT</a>||<a class="code" href="../../da/d3e/definit_8h.html#a3a15a632c4a89c05af66b680733eb82c" title="whether to track and dump A_i the vector potential">TRACKVPOT</a>){</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          <span class="keywordtype">int</span> jj;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          <span class="keywordflow">for</span>(jj=0;jj&lt;dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>];jj++){</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            <span class="keywordflow">if</span>(jj==2) <span class="keywordflow">continue</span>; <span class="comment">// skip A_2 that is not on pole, so not needed</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;            GLOBALMACP1A0(vpotarraydump,jj,i,jshifted,k)=0.0;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;          }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;      }</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    }<span class="comment">// end FULLLOOP</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  }<span class="comment">// end if true upper pole</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;}</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="keywordtype">int</span> read_restartupperpole_header(<span class="keywordtype">int</span> whichdump, <span class="keywordtype">int</span> whichdumpversion, <span class="keywordtype">int</span> numcolumns, <span class="keywordtype">int</span> bintxt, FILE *headerptr)</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;{</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;  <span class="keywordflow">if</span>(bintxt==<a class="code" href="../../d5/d14/mympi_8global_8nondepmnemonics_8h.html#a69cca27144f7fe2d5e94b0b5fab2e0cb">BINARYOUTPUT</a>){</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;  }</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="comment">// nothing so far, but must have new line if not NULL function</span></div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    fprintf(headerptr,<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    fflush(headerptr);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;  }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;}</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;<span class="keywordtype">int</span> write_restartupperpole_header(<span class="keywordtype">int</span> whichdump, <span class="keywordtype">int</span> whichdumpversion, <span class="keywordtype">int</span> numcolumns, <span class="keywordtype">int</span> bintxt, FILE *headerptr)</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;{</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keywordflow">if</span>(bintxt==<a class="code" href="../../d5/d14/mympi_8global_8nondepmnemonics_8h.html#a69cca27144f7fe2d5e94b0b5fab2e0cb">BINARYOUTPUT</a>){</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  }</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">// nothing so far, but must have new line if not NULL function</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    fprintf(headerptr,<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;    fflush(headerptr);</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  }</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;}</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;<span class="keywordtype">int</span> rupperpoledump_read_content(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, MPI_Datatype datatype,<span class="keywordtype">void</span> *writebuf)</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;{</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;  <span class="keywordtype">int</span> jshifted;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="comment">// j+SHIFT2 so that fake 3D read-in fills j=N2 for mycpupos[2]==ncpux2-1 (tj=totalsize[2]) when MPI routines think they are accessing j=N2-SHIFT2</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;  jshifted=j+<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a4601f340e88302d63182d0844c4e3c09" title="x2">SHIFT2</a>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;  <span class="comment">// Just B2 is on pole</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;  myget(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(unewglobal,i,jshifted,k),<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a6945d50f798e1fde624d70c74457090e">B2</a>,1,writebuf);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="comment">// NOTEMARK: see also dump.c</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a10c2a32787a08dc5ca8ee25788232ab5" title="whether to redefine fields from A_i during evolution currently only done after each full timestep to ...">EVOLVEWITHVPOT</a>||<a class="code" href="../../da/d3e/definit_8h.html#a3a15a632c4a89c05af66b680733eb82c" title="whether to track and dump A_i the vector potential">TRACKVPOT</a>){</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      <span class="keywordtype">int</span> jj;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;      <span class="keywordflow">for</span>(jj=0;jj&lt;dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>];jj++){</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="keywordflow">if</span>(jj==2) <span class="keywordflow">continue</span>; <span class="comment">// skip A_2 that is not on pole, so not needed</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        myget(datatype,&amp;GLOBALMACP1A0(vpotarraydump,jj,i,jshifted,k),0,1,writebuf); <span class="comment">// 1 each</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;      }</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  }</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160; </div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;}</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;<span class="keywordtype">int</span> restartupperpole_write(<span class="keywordtype">long</span> dump_cnt)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  MPI_Datatype datatype;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;  <span class="keywordtype">int</span> whichdump;</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;  <span class="keywordtype">char</span> fileprefix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;  <span class="keywordtype">char</span> filesuffix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;  <span class="keywordtype">char</span> fileformat[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;  <span class="keywordtype">long</span> truedump_cnt;</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;  trifprintf(<span class="stringliteral">&quot;begin dumping rdumpupperpole# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;  whichdump=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7af61517787c48d4bc2b0695eb28afda">RESTARTUPPERPOLEDUMPTYPE</a>;</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  datatype=MPI_FTYPE;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;  strcpy(fileprefix,<span class="stringliteral">&quot;dumps/rdumpupperpole&quot;</span>);</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  <span class="keywordflow">if</span>(dump_cnt&gt;=0) {</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;    strcpy(fileformat,<span class="stringliteral">&quot;-%01ld&quot;</span>); <span class="comment">// very quick restart</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;    truedump_cnt=dump_cnt;</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;  }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    strcpy(fileformat,<span class="stringliteral">&quot;--%04ld&quot;</span>); <span class="comment">// assumed at some longer cycle and never overwritten .. must rename this to normal format to use as real rdump.</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    truedump_cnt=-dump_cnt-1;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;  }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;  strcpy(filesuffix,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;  </div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;  <span class="keywordflow">if</span>(dump_gen(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ab63ec178b2d4d9acb2141c5f2422036d">WRITEFILE</a>,truedump_cnt,<a class="code" href="../../d8/d5b/defs_8general_8h.html#a04767aafce2d594a681b4d39134050c8">binaryoutput</a>,whichdump,datatype,fileprefix,fileformat,filesuffix,write_restartupperpole_header,rupperpoledump_content)&gt;=1) <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  trifprintf(<span class="stringliteral">&quot;end dumping rdumpupperpole# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;}</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;<span class="keywordtype">void</span> set_rupperpoledump_read_content_dnumcolumns_dnumversion(<span class="keywordtype">int</span> *numcolumns, <span class="keywordtype">int</span> *numversion)</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;{</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;  <span class="comment">// Just B2 is on pole</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;  *numcolumns=1;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  </div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a10c2a32787a08dc5ca8ee25788232ab5" title="whether to redefine fields from A_i during evolution currently only done after each full timestep to ...">EVOLVEWITHVPOT</a>||<a class="code" href="../../da/d3e/definit_8h.html#a3a15a632c4a89c05af66b680733eb82c" title="whether to track and dump A_i the vector potential">TRACKVPOT</a>){</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="comment">// even with TRACKVPOT, with vpot as diagnostic, don&#39;t regenerate vpot from B, so need to store in restart file so can continue updating it.s</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    *numcolumns += <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>-1; <span class="comment">// only A_0, A_1, and A_3 are on pole</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;  }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  *numversion=0;</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;}</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;<span class="keywordtype">void</span> set_rupperpoledump_content_dnumcolumns_dnumversion(<span class="keywordtype">int</span> *numcolumns, <span class="keywordtype">int</span> *numversion)</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;{</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;  <span class="keyword">extern</span> <span class="keywordtype">void</span> set_rupperpoledump_read_content_dnumcolumns_dnumversion(<span class="keywordtype">int</span> *numcolumns, <span class="keywordtype">int</span> *numversion);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;  <span class="comment">// same as read:</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  set_rupperpoledump_read_content_dnumcolumns_dnumversion(numcolumns,numversion);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;}</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;<span class="keywordtype">int</span> rupperpoledump_content(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, MPI_Datatype datatype,<span class="keywordtype">void</span> *writebuf)</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;{</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;  <span class="keywordtype">int</span> jshifted;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;  <span class="comment">// j+SHIFT2 so that fake 3D read-in fills j=N2 for mycpupos[2]==ncpux2-1 (tj=totalsize[2]) when MPI routines think they are accessing j=N2-SHIFT2</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;  jshifted=j+<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a4601f340e88302d63182d0844c4e3c09" title="x2">SHIFT2</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;  <span class="comment">// Only B2 is on pole</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  myset(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#a5dd5a282922755d8516bcbf69ccfa767">GLOBALMAC</a>(unewglobal,i,jshifted,k),<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a6945d50f798e1fde624d70c74457090e">B2</a>,1,writebuf);</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;  <span class="comment">// NOTEMARK: see also dump.c</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a10c2a32787a08dc5ca8ee25788232ab5" title="whether to redefine fields from A_i during evolution currently only done after each full timestep to ...">EVOLVEWITHVPOT</a>||<a class="code" href="../../da/d3e/definit_8h.html#a3a15a632c4a89c05af66b680733eb82c" title="whether to track and dump A_i the vector potential">TRACKVPOT</a>){</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">if</span>(dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>]&gt;0){</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;      <span class="keywordtype">int</span> jj;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;      <span class="keywordflow">for</span>(jj=0;jj&lt;dnumcolumns[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#abf14aa20a9887095fccb10a0827dfa6b">VPOTDUMPTYPE</a>];jj++){</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span>(jj==2) <span class="keywordflow">continue</span>; <span class="comment">// skip A_2 that is not on pole, so not needed</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        myset(datatype,&amp;GLOBALMACP1A0(vpotarraydump,jj,i,jshifted,k),0,1,writebuf); <span class="comment">// 1 each</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;      }</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;  }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="keywordtype">int</span> restartmetric_write(<span class="keywordtype">long</span> dump_cnt)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;{</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;  MPI_Datatype datatype;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  <span class="keywordtype">int</span> whichdump;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <span class="keywordtype">char</span> fileprefix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <span class="keywordtype">char</span> filesuffix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <span class="keywordtype">char</span> fileformat[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;  <span class="keywordtype">long</span> truedump_cnt;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;  trifprintf(<span class="stringliteral">&quot;begin dumping rmetricdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;  whichdump=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7bbde8abfc0fcb912a0d79cef8717301">RESTARTMETRICDUMPTYPE</a>;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  datatype=MPI_FTYPE;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;  strcpy(fileprefix,<span class="stringliteral">&quot;dumps/rmetricdump&quot;</span>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;  <span class="keywordflow">if</span>(dump_cnt&gt;=0) {</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    strcpy(fileformat,<span class="stringliteral">&quot;-%01ld&quot;</span>); <span class="comment">// very quick restart</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;    truedump_cnt=dump_cnt;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  }</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;    strcpy(fileformat,<span class="stringliteral">&quot;--%04ld&quot;</span>); <span class="comment">// assumed at some longer cycle and never overwritten .. must rename this to normal format to use as real rdump.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    truedump_cnt=-dump_cnt-1;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;  }</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;  strcpy(filesuffix,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;  <span class="keywordflow">if</span>(dump_gen(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ab63ec178b2d4d9acb2141c5f2422036d">WRITEFILE</a>,truedump_cnt,<a class="code" href="../../d8/d5b/defs_8general_8h.html#a04767aafce2d594a681b4d39134050c8">binaryoutput</a>,whichdump,datatype,fileprefix,fileformat,filesuffix,write_restartmetric_header,rmetricdump_content)&gt;=1) <span class="keywordflow">return</span>(1);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;  trifprintf(<span class="stringliteral">&quot;end dumping rmetricdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;}</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;<span class="keywordtype">void</span> set_rmetricdump_content_dnumcolumns_dnumversion(<span class="keywordtype">int</span> *numcolumns, <span class="keywordtype">int</span> *numversion)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;{</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keyword">extern</span> <span class="keywordtype">void</span> set_rmetricdump_read_content_dnumcolumns_dnumversion(<span class="keywordtype">int</span> *numcolumns, <span class="keywordtype">int</span> *numversion);</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;  <span class="comment">// same as read:</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  set_rmetricdump_read_content_dnumcolumns_dnumversion(numcolumns,numversion);</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;}</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="keywordtype">int</span> rmetricdump_content(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, MPI_Datatype datatype,<span class="keywordtype">void</span> *writebuf)</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;{</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;  <span class="keywordtype">int</span> gridpos;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d6/d1f/structof__compgeom.html" title="stored global geometry used most of the time when previously would call get_geometry()">of_compgeom</a> *tempcompgeom;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a> generalmatrixlower[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>][<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>];</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;  <a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a> generalmatrixupper[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>][<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>];</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;  <span class="keywordtype">int</span> jj,kk;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;  <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a9f1047219b3e65be072280a57d2f4d9f" title="loop over grid positions (used for file writing since not normally done)">GRIDLOOP</a>(gridpos){ <span class="comment">// note that in older code gridpos was quickest index!  Now slowest compared to matrix indices</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    </div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="preprocessor">#if(NEWMETRICSTORAGE)</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    tempcompgeom = &amp;<a class="code" href="../../df/d1c/global_8storage_8h.html#ac4eaa3d655bb85afeb57a11eebbd55cd">GLOBALMETMACP1A0</a>(compgeomlast,gridpos,i,j,k);</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a59b7ef1517ff22fd4dfce4cf6d380c55" title="loop over all Dimensions; second rank loop">DLOOP</a>(jj,kk){</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;      generalmatrixlower[jj][kk]=tempcompgeom-&gt;gcov[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a28b8da8b36c3a7b2f04da8809cd50b34">GIND</a>(jj,kk)];</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;      generalmatrixupper[jj][kk]=tempcompgeom-&gt;gcon[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a28b8da8b36c3a7b2f04da8809cd50b34">GIND</a>(jj,kk)];</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    }</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    myset(datatype,generalmatrixlower,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    myset(datatype,generalmatrixupper,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    myset(datatype,tempcompgeom-&gt;gcovpert,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    myset(datatype,&amp;(tempcompgeom-&gt;gdet),0,1,writebuf);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;<span class="preprocessor">#if(WHICHEOM!=WITHGDET)</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;<span class="preprocessor"></span>    myset(datatype,&amp;(tempcompgeom-&gt;EOMFUNCMAC(0)),0,NPR,writebuf);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    myset(datatype,&amp;(tempcompgeom-&gt;IEOMFUNCNOSINGMAC(0)),0,NPR,writebuf);</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if(GDETVOLDIFF)</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;<span class="preprocessor"></span>    myset(datatype,&amp;(tempcompgeom-&gt;gdetvol),0,1,writebuf);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;<span class="preprocessor"></span>    myset(datatype,&amp;(tempcompgeom-&gt;igdetnosing),0,1,writebuf);</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    myset(datatype,&amp;(tempcompgeom-&gt;alphalapse),0,1,writebuf);</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    myset(datatype,&amp;(tempcompgeom-&gt;betasqoalphasq),0,1,writebuf);</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    myset(datatype,&amp;(tempcompgeom-&gt;beta),0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a59b7ef1517ff22fd4dfce4cf6d380c55" title="loop over all Dimensions; second rank loop">DLOOP</a>(jj,kk){</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      generalmatrixlower[jj][kk]=<a class="code" href="../../df/d1c/global_8storage_8h.html#af9b0f7b6c8cc58ff7cac8194c4fb1ca1">GLOBALMETMACP1A1</a>(gcovlast,gridpos,i,j,k,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a28b8da8b36c3a7b2f04da8809cd50b34">GIND</a>(jj,kk));</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;      </div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    myset(datatype,generalmatrixlower,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    myset(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#ac4eaa3d655bb85afeb57a11eebbd55cd">GLOBALMETMACP1A0</a>(gcovpertlast,gridpos,i,j,k),0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    myset(datatype,&amp;(<a class="code" href="../../df/d1c/global_8storage_8h.html#ac4eaa3d655bb85afeb57a11eebbd55cd">GLOBALMETMACP1A0</a>(alphalapselast,gridpos,i,j,k)),0,1,writebuf);</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  }<span class="comment">// end over gridpos  </span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;}</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;<span class="keywordtype">int</span> write_restartmetric_header(<span class="keywordtype">int</span> whichdump, <span class="keywordtype">int</span> whichdumpversion, <span class="keywordtype">int</span> numcolumns, <span class="keywordtype">int</span> bintxt, FILE *headerptr)</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;{</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;  <span class="keywordflow">if</span>(bintxt==<a class="code" href="../../d5/d14/mympi_8global_8nondepmnemonics_8h.html#a69cca27144f7fe2d5e94b0b5fab2e0cb">BINARYOUTPUT</a>){</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;  }</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">// nothing so far, but must have new line if not NULL function</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    fprintf(headerptr,<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    fflush(headerptr);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;  }</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;}</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;<span class="keywordtype">int</span> read_restartmetric_header(<span class="keywordtype">int</span> whichdump, <span class="keywordtype">int</span> whichdumpversion, <span class="keywordtype">int</span> numcolumns, <span class="keywordtype">int</span> bintxt, FILE *headerptr)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;{</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;  <span class="keywordflow">if</span>(bintxt==<a class="code" href="../../d5/d14/mympi_8global_8nondepmnemonics_8h.html#a69cca27144f7fe2d5e94b0b5fab2e0cb">BINARYOUTPUT</a>){</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;  }</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;    <span class="comment">// nothing so far, but must have new line if not NULL function</span></div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    fprintf(headerptr,<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    fflush(headerptr);</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;  }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;}</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;<span class="keywordtype">int</span> restartmetric_read(<span class="keywordtype">long</span> dump_cnt)</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;{</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;  MPI_Datatype datatype;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;  <span class="keywordtype">int</span> whichdump;</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;  <span class="keywordtype">char</span> fileprefix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;  <span class="keywordtype">char</span> filesuffix[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;  <span class="keywordtype">char</span> fileformat[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>]={<span class="charliteral">&#39;\0&#39;</span>};</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;  <span class="keywordtype">int</span> bintxt;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;  trifprintf(<span class="stringliteral">&quot;begin reading rmetricdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;  dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>,<span class="stringliteral">&quot;Reading in old metric, but so far need to bound somehow since no BCs but needed!\n&quot;</span>);</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  myexit(2496736);</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  whichdump=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7bbde8abfc0fcb912a0d79cef8717301">RESTARTMETRICDUMPTYPE</a>;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  datatype=MPI_FTYPE;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  bintxt=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a04767aafce2d594a681b4d39134050c8">binaryoutput</a>;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  strcpy(fileprefix,<span class="stringliteral">&quot;dumps/rmetricdump&quot;</span>);</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  strcpy(fileformat,<span class="stringliteral">&quot;-%01ld&quot;</span>);</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  strcpy(filesuffix,<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160; </div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;  <span class="keywordtype">int</span> failreturn;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;  failreturn=dump_gen(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac71325c6071d23f9a934a4780445950b">READFILE</a>,dump_cnt,bintxt,whichdump,datatype,fileprefix,fileformat,filesuffix,read_restartmetric_header,rmetricdump_read_content);</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;  </div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;  <span class="keywordflow">if</span>(failreturn==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a555d564d1f055c83c305f435f2945615" title="return code used to indicate failure of dump_gen() was file not found instead of any other error...">FILENOTFOUND</a>){</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>,<span class="stringliteral">&quot;restartmetric file not found\n&quot;</span>);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    myexit(26525667);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;  }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(failreturn&gt;0){</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>,<span class="stringliteral">&quot;restartmetric file: other read error\n&quot;</span>);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    myexit(71857346);</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;  }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;  trifprintf(<span class="stringliteral">&quot;end reading rmetricdump# %ld ... &quot;</span>,dump_cnt);</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;<span class="keywordtype">void</span> set_rmetricdump_read_content_dnumcolumns_dnumversion(<span class="keywordtype">int</span> *numcolumns, <span class="keywordtype">int</span> *numversion)</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;{</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a149d0d31999a38ec3870e1e4a4eecf67" title="careful not to use DOMIXTHETAPHI in .h files since init.h might change it.">DOEVOLVEMETRIC</a>){</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;<span class="preprocessor">#if(NEWMETRICSTORAGE)</span></div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;<span class="preprocessor"></span>    *numcolumns=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a9f5f914b37bae13a46bdc49a9b05c813" title="mnemonics for centering of grid functions GODMARK: is there a way to pick and choose the dimension an...">NPG</a>*(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a> + <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a> + <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a> + 1 + 1 + 1 + 1 + <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>); <span class="comment">// See restart.c&#39;s rmetricdump_content()</span></div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;<span class="preprocessor">#if(WHICHEOM!=WITHGDET)</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;<span class="preprocessor"></span>    *numcolumns+=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a9f5f914b37bae13a46bdc49a9b05c813" title="mnemonics for centering of grid functions GODMARK: is there a way to pick and choose the dimension an...">NPG</a>*(2*NPR);</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if(GDETVOLDIFF)</span></div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;<span class="preprocessor"></span>    *numcolumns+=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a9f5f914b37bae13a46bdc49a9b05c813" title="mnemonics for centering of grid functions GODMARK: is there a way to pick and choose the dimension an...">NPG</a>*(1);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;<span class="preprocessor"></span>    *numcolumns=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a9f5f914b37bae13a46bdc49a9b05c813" title="mnemonics for centering of grid functions GODMARK: is there a way to pick and choose the dimension an...">NPG</a>*(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>+<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>+1); <span class="comment">// See restart.c&#39;s rmetricdump_content()</span></div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;<span class="preprocessor"></span>  }</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    *numcolumns=0;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;  }</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;  *numversion=0;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;<span class="keywordtype">int</span> rmetricdump_read_content(<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j, <span class="keywordtype">int</span> k, MPI_Datatype datatype,<span class="keywordtype">void</span> *writebuf)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordtype">int</span> gridpos;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keyword">struct </span><a class="code" href="../../d6/d1f/structof__compgeom.html" title="stored global geometry used most of the time when previously would call get_geometry()">of_compgeom</a> *tempcompgeom;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a> generalmatrixlower[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>][<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>];</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;  <a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a> generalmatrixupper[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>][<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>];</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;  <span class="keywordtype">int</span> jj,kk;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;  <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a9f1047219b3e65be072280a57d2f4d9f" title="loop over grid positions (used for file writing since not normally done)">GRIDLOOP</a>(gridpos){ <span class="comment">// note that in older code gridpos was quickest index!  Now slowest compared to matrix indices</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    </div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;<span class="preprocessor">#if(NEWMETRICSTORAGE)</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    tempcompgeom = &amp;<a class="code" href="../../df/d1c/global_8storage_8h.html#ac4eaa3d655bb85afeb57a11eebbd55cd">GLOBALMETMACP1A0</a>(compgeomlast,gridpos,i,j,k);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;    myget(datatype,generalmatrixlower,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    myget(datatype,generalmatrixupper,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    myget(datatype,tempcompgeom-&gt;gcovpert,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    myget(datatype,&amp;(tempcompgeom-&gt;gdet),0,1,writebuf);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;<span class="preprocessor">#if(WHICHEOM!=WITHGDET)</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;<span class="preprocessor"></span>    myget(datatype,&amp;(tempcompgeom-&gt;EOMFUNCMAC(0)),0,NPR,writebuf);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    myget(datatype,&amp;(tempcompgeom-&gt;IEOMFUNCNOSINGMAC(0)),0,NPR,writebuf);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#if(GDETVOLDIFF)</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="preprocessor"></span>    myget(datatype,&amp;(tempcompgeom-&gt;gdetvol),0,1,writebuf);</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;<span class="preprocessor"></span>    myget(datatype,&amp;(tempcompgeom-&gt;igdetnosing),0,1,writebuf);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    myget(datatype,&amp;(tempcompgeom-&gt;alphalapse),0,1,writebuf);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    myget(datatype,&amp;(tempcompgeom-&gt;betasqoalphasq),0,1,writebuf);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    myget(datatype,&amp;(tempcompgeom-&gt;beta),0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    <span class="comment">// assign</span></div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a59b7ef1517ff22fd4dfce4cf6d380c55" title="loop over all Dimensions; second rank loop">DLOOP</a>(jj,kk){</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;      tempcompgeom-&gt;gcov[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a28b8da8b36c3a7b2f04da8809cd50b34">GIND</a>(jj,kk)]=generalmatrixlower[jj][kk];</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;      tempcompgeom-&gt;gcon[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a28b8da8b36c3a7b2f04da8809cd50b34">GIND</a>(jj,kk)]=generalmatrixupper[jj][kk];</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    }</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    myget(datatype,generalmatrixlower,0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    myget(datatype,<a class="code" href="../../df/d1c/global_8storage_8h.html#ac4eaa3d655bb85afeb57a11eebbd55cd">GLOBALMETMACP1A0</a>(gcovpertlast,gridpos,i,j,k),0,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>,writebuf);</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    myget(datatype,&amp;(<a class="code" href="../../df/d1c/global_8storage_8h.html#ac4eaa3d655bb85afeb57a11eebbd55cd">GLOBALMETMACP1A0</a>(alphalapselast,gridpos,i,j,k)),0,1,writebuf);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// assign</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a59b7ef1517ff22fd4dfce4cf6d380c55" title="loop over all Dimensions; second rank loop">DLOOP</a>(jj,kk){</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;      <a class="code" href="../../df/d1c/global_8storage_8h.html#af9b0f7b6c8cc58ff7cac8194c4fb1ca1">GLOBALMETMACP1A1</a>(gcovlast,gridpos,i,j,k,<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a28b8da8b36c3a7b2f04da8809cd50b34">GIND</a>(jj,kk))=generalmatrixlower[jj][kk];</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;<span class="preprocessor">#endif      </span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;  }<span class="comment">// end over gridpos  </span></div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;}</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;<span class="keywordtype">int</span> bcast_restart_header(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;{</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;  <span class="keywordtype">int</span> readwrite_restart_header(<span class="keywordtype">int</span> readwrite, <span class="keywordtype">int</span> bintxt, <span class="keywordtype">int</span> bcasthead, FILE*headerptr);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;  <span class="keywordtype">int</span> bcasthead;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;  bcasthead=1;</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;  </div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;  <span class="comment">// 0 and NULL not used</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;  readwrite_restart_header(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a94042ede96f244b10189f07867984229">NOTHINGHEAD</a>, 0, bcasthead, NULL);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;}</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;<span class="keywordtype">int</span> read_restart_header_new(<span class="keywordtype">int</span> whichdump, <span class="keywordtype">int</span> whichdumpversion, <span class="keywordtype">int</span> numcolumns, <span class="keywordtype">int</span> bintxt, FILE*headerptr)</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;{</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;  <span class="keywordtype">int</span> readwrite_restart_header(<span class="keywordtype">int</span> readwrite, <span class="keywordtype">int</span> bintxt, <span class="keywordtype">int</span> bcasthead, FILE*headerptr);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordtype">int</span> bcasthead;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;  bcasthead=0;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  </div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;  readwrite_restart_header(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>, bintxt, bcasthead, headerptr);</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;}</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;<span class="keywordtype">int</span> write_restart_header_new(<span class="keywordtype">int</span> whichdump, <span class="keywordtype">int</span> whichdumpversion, <span class="keywordtype">int</span> numcolumns, <span class="keywordtype">int</span> bintxt,FILE*headerptr)</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;{</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;  <span class="keywordtype">int</span> readwrite_restart_header(<span class="keywordtype">int</span> readwrite, <span class="keywordtype">int</span> bintxt, <span class="keywordtype">int</span> bcasthead, FILE*headerptr);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;  <span class="keywordtype">int</span> bcasthead;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;  bcasthead=0;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  </div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  readwrite_restart_header(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#af4f19db9ac8263030178530bcbb38342">WRITEHEAD</a>, bintxt, bcasthead, headerptr);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;}</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;<span class="keywordtype">int</span> readwrite_restart_header(<span class="keywordtype">int</span> readwrite, <span class="keywordtype">int</span> bintxt, <span class="keywordtype">int</span> bcasthead, FILE*headerptr)</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;{</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;  <span class="keywordtype">int</span> ii;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordtype">int</span> k,dir,pl;</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordtype">int</span> enerregion, floor, tscale;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;  <span class="keywordtype">int</span> idum1,idum2,idum3;</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;  <span class="keywordtype">int</span> dissloop;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <span class="keywordtype">int</span> dtloop;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordtype">char</span> headerone[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>];</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;  <span class="keywordtype">char</span> sheaderone[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>];</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;  <span class="keywordtype">char</span> ctypeheaderone[<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a0947c0a3d28c188caa4497cce08539c9" title="maximum char size of filenames or directories or commands">MAXFILENAME</a>];</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>) trifprintf(<span class="stringliteral">&quot;begin reading header of restart file\n&quot;</span>);</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#af4f19db9ac8263030178530bcbb38342">WRITEHEAD</a>) trifprintf(<span class="stringliteral">&quot;begin writing header of restart file\n&quot;</span>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <span class="comment">// setup idum1,2,3 so read and write are processed same way</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#af4f19db9ac8263030178530bcbb38342">WRITEHEAD</a>){</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    idum1=<a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[1];</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    idum2=<a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[2];</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    idum3=<a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[3];</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;  }</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>){</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    sprintf(headerone,<span class="stringliteral">&quot;%s&quot;</span>,<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a27a988716acb13db2b6d39c7b2a8cf2d">HEADERONEIN</a>);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    sprintf(sheaderone,<span class="stringliteral">&quot;%s&quot;</span>,<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a41d1aef7a8aa88bcca40e1968a4389ff">SFTYPEHEADERONEIN</a>);</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    sprintf(ctypeheaderone,<span class="stringliteral">&quot;%s&quot;</span>,CTYPEHEADERONEIN);</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;  }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#af4f19db9ac8263030178530bcbb38342">WRITEHEAD</a>){</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;    sprintf(headerone,<span class="stringliteral">&quot;%s&quot;</span>,<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a939c119e8a8e9de35f651b0d3cf1825c">HEADERONEOUT</a>);</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    sprintf(sheaderone,<span class="stringliteral">&quot;%s&quot;</span>,<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a01cb31b480f6195509fd8025242c2653">SFTYPEHEADERONEOUT</a>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;    sprintf(ctypeheaderone,<span class="stringliteral">&quot;%s&quot;</span>,CTYPEHEADERONEOUT);</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;  }</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="comment">// START HEADER read/write list</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;<span class="comment"></span>  <span class="keywordtype">int</span> headercount=0;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;idum1,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>),<span class="stringliteral">&quot;%d&quot;</span>,1,MPI_INT,headerptr);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;idum2,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>),<span class="stringliteral">&quot;%d&quot;</span>,1,MPI_INT,headerptr);</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;idum3,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>),<span class="stringliteral">&quot;%d&quot;</span>,1,MPI_INT,headerptr); <span class="comment">// 3D thing</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <span class="comment">// all cpus read the rest of header the same</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ae1ee1e1c83c3f70e2e1afed4f4f5b41e">t</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), headerone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a19a363a93267c97a3d521293fc39d942">tf</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a1a1088d87617078680f1fd0f0d707384">nstep</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, 1, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aa73cf2d397cae726436e08d2c891bdb0">a</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a1fb64169459d57727a61a72b6e01ced5">MBH</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a60c2aa47ffa41453bf4afb2c19ac2a4e">QBH</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;  <span class="keywordflow">if</span>(readwrite!=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>||1){</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2f09f0f07c81c40846f158024b125ed0">EP3</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#af850e395071231822a385de91849efd3">THETAROT</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;  }</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;  <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    <a class="code" href="../../d8/d5b/defs_8general_8h.html#a2f09f0f07c81c40846f158024b125ed0">EP3</a>=0.0;</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    </div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// radians</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <a class="code" href="../../d8/d5b/defs_8general_8h.html#af850e395071231822a385de91849efd3">THETAROT</a>=1.5708; <span class="comment">// as if restarted with this set</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;  }</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a5db33bd66a02c92d495409fd6d6c7459" title="GLOBAL PARAMETERS SECTION.">gam</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a01b433e38380d85f84aa0baf1cf8deb7">gamideal</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ab95415a19b94c9c8b05a1a1d1be4ce40">cour</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;  <span class="comment">// for metric evolution</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a24beedacfeb80121d0ac74abefcd7f9b">Xmetricold</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a0606a9242a6f0be89cdf25ca20e90090">Xmetricnew</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;      </div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a56db625f31229c5e8b208ff27d464931">dt</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, 1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a817404fd8a61abc2300c378e1eb2d122">lim</a>[1], <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a817404fd8a61abc2300c378e1eb2d122">lim</a>[2], <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a817404fd8a61abc2300c378e1eb2d122">lim</a>[3], <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ae202d8b69a0ef3f07651368c3de9ca25">TIMEORDER</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,<a class="code" href="../../d8/d5b/defs_8general_8h.html#a6b32259475937e434b03862c64fb86a3">fluxmethod</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, NPR, MPI_INT, headerptr);</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a11c4e99e1493d0c1914ad1ab313ea472">FLUXB</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a538f4ebe3434f76ec67690f0651b53e7">UTOPRIMVERSION</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad4ec5aab9b62fbbe9b8fc2d8ac0a5989">failed</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;  </div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a07aa730709566649748925d2ae0aae77">defcoord</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aa4c9c8191d78fb683d1b8947f026afcb">R0</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aede4c57c0916c7d1ba3760915a650067">Rin</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2b3e48ba92bae56a9925460125e78367">Rout</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a93f06eb0b7c274f722a7e09d4861a941">hslope</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a77542ce754587f4fccf3eac160629d5d">Zin</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a85aa83ad1ffba6b0ff5e357304685949">Zout</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a20ba1a68d196e97fa84463164fd907d1">Rin_array</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aff141f9f52f9bbd4911d4dabcf2aaec9">Rout_array</a>, <span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  </div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a516ad1adc872921939df143a56a721af">BCtype</a>[0],<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../da/d3e/definit_8h.html#a1b2ef8afddd2c5d91ab65015bbd7b80b" title="NUMBER OF DIMENSIONS FOR COMPUTATION Can choose 3 and still do 1D optimized problems Choosing 2 or ev...">COMPDIM</a>*2, MPI_INT, headerptr);</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;  <span class="comment">// new May 6, 2003</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a0b92e4d6197989f0f9b0609c8615a46f">realnstep</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, 1, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;debugfail,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a9738619f6b1cbb93697432a12d122133" title="global flags">whichrestart</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a5a991b7bb31c346421e7caea2bfb239a">cooling</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;restartsteps[0],<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, 1, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;restartsteps[1],<span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, 1, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a6be7a07f2c885aa09ccac7e12a45ab26">GAMMIEDUMP</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a1da7eba5b6c3fe0390f4597b3cc911ef">GAMMIEIMAGE</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad592700218c6ca4bf0543723ee36d028">GAMMIEENER</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aac5486df6a846aa6cb47c73202ac0485">DODIAGS</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#afbca4918ea5a00b04a471d39f4760924">DOENERDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a94cc36357859eb0ab6d39dc297f9afff">DOGDUMPDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#add77258f6ba7c5eb969ec7b141fa396b">DORDUMPDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aaac66b2bb804ea426f0bb8ce430bc49d">DODUMPDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a400277a90065d2e5f1bed0135c43dd85">DOAVGDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2ea279929ad8e3b8eeaa615d062ea5cd">DOIMAGEDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a8d37b3ef2557632a85dd419e900f05cd">DOAREAMAPDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a813cffebecba4a98b088087f80250ba0">DODIAGEVERYSUBSTEP</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a86ce38467899f6c68fe212903387563e">DOENODEBUGEVERYSUBSTEP</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>&amp;&amp;0){</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#af4d4bc25a42f2a484eec2cca14f462ea">DOCOLSPLIT</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="keywordtype">int</span> l5,inputl5=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-2;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="keywordflow">for</span>(l5=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-1;l5&gt;=0;l5--){</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;      <span class="keywordflow">if</span>(l5!=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7af61517787c48d4bc2b0695eb28afda">RESTARTUPPERPOLEDUMPTYPE</a>){</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <a class="code" href="../../d8/d5b/defs_8general_8h.html#af4d4bc25a42f2a484eec2cca14f462ea">DOCOLSPLIT</a>[l5]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#af4d4bc25a42f2a484eec2cca14f462ea">DOCOLSPLIT</a>[inputl5];</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        inputl5--;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;      }</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;    }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  }</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">else</span> headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#af4d4bc25a42f2a484eec2cca14f462ea">DOCOLSPLIT</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>, MPI_INT, headerptr);</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a263ad60a48b4d3fe687c524e69465cc9">POSDEFMETRIC</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../dd/d46/mpidefs_8h.html#ab6ed54cec8c2547f4280b86f34426cb5" title="for only grmhd code">periodicx1</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../dd/d46/mpidefs_8h.html#a504b3e0d6a16870176bb4555e95642c7">periodicx2</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../dd/d46/mpidefs_8h.html#a5e966c43d71ea8ef3cd3fb6e5e4c00d8">periodicx3</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr); <span class="comment">// 3D thing</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a089706c546fc30d0b60ae9d6eb0a89ea">dofull2pi</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr); <span class="comment">// 3D thing</span></div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a04767aafce2d594a681b4d39134050c8">binaryoutput</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aeea3c92b1852b95e378a0256e0d7d9d6">sortedoutput</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT, headerptr);</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a8685a7babea647420ac0741a6859f867">defcon</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a73deb5caf870e00d9b50f194357000dd">SAFE</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a7ea29d2d3d2dedf13e5530aae75489db">RHOMIN</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a5f145b29adcf588cf7f2821cb5c9302f">UUMIN</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aaf25d08a41cff499b5e3d448ad7f76f7">RHOMINLIMIT</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a13f615d7832e3abc6abd54325112daf3">UUMINLIMIT</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aa0ed69c2bd22558a88c5030c33d90371">UULIMIT</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a0fe8d3c7642e667dd8ae3635506c4273">BSQORHOLIMIT</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2ac5e41aa897e1fa82d748b7e38b9c6a">BSQOULIMIT</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a29e0b9f4e26a839ec5b98c698e90ca17">UORHOLIMIT</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#accef7ff74daca804b9a5a3ad7d3db882">GAMMAMAX</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#acfae75775b104373e85c66288d127747">GAMMADAMP</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a0a7b28802551fa49c7931c4345ec6fc9">GAMMAFAIL</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);      </div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;  <span class="comment">// end new May 6, 2003</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;  </div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;  <span class="comment">// reorganized order for DT related stuff</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a6650077e624189283a8fc864f948d3b5">DTr</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, 1, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>&amp;&amp;0){</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2edf04580f3ba6725fface8987e5f533">DTdumpgen</a>[0], <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-1, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;    <span class="keywordtype">int</span> l5,inputl5=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-2;</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;    <span class="keywordflow">for</span>(l5=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-1;l5&gt;=0;l5--){</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;      <span class="keywordflow">if</span>(l5!=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7af61517787c48d4bc2b0695eb28afda">RESTARTUPPERPOLEDUMPTYPE</a>){</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        <a class="code" href="../../d8/d5b/defs_8general_8h.html#a2edf04580f3ba6725fface8987e5f533">DTdumpgen</a>[l5]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2edf04580f3ba6725fface8987e5f533">DTdumpgen</a>[inputl5];</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        inputl5--;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;      }</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    }</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;  }</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  <span class="keywordflow">else</span> headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2edf04580f3ba6725fface8987e5f533">DTdumpgen</a>[0], <span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a4834939932ec7120ddcdb539fd6d2a29">rdump_cnt</a>, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, 1, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>&amp;&amp;0){</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;    headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a67f5d5d83f2e17232066689391331481">dumpcntgen</a>[0], <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-1, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <span class="keywordtype">int</span> l5,inputl5=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-2;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">for</span>(l5=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>-1;l5&gt;=0;l5--){</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;      <span class="keywordflow">if</span>(l5!=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a7af61517787c48d4bc2b0695eb28afda">RESTARTUPPERPOLEDUMPTYPE</a>){</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;        <a class="code" href="../../d8/d5b/defs_8general_8h.html#a67f5d5d83f2e17232066689391331481">dumpcntgen</a>[l5]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a67f5d5d83f2e17232066689391331481">dumpcntgen</a>[inputl5];</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;        inputl5--;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;      }</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;    }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  }</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;  <span class="keywordflow">else</span> headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a67f5d5d83f2e17232066689391331481">dumpcntgen</a>[0], <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>), <span class="stringliteral">&quot;%ld&quot;</span>, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a199215088aa5278950fcc865a67e7019" title="these dump types also control period of output Period can be controlled for non-spatial dumps such as...">NUMDUMPTYPES</a>, MPI_LONG, headerptr);</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  </div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  </div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a9919090995876cac5e400300e53436b2">prMAX</a>[0],<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, NPR, MPI_FTYPE,headerptr);</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a7b1907984bc130eb01fe29d3fc3c064b">prfloorcoef</a>[0],<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, NPR, MPI_FTYPE,headerptr);</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;rescaletype,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;  </div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;  <span class="comment">// Nov 11, 2006 : post-Sasha-WENO code WENO stuff</span></div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#acb6f71700ed482e84b69ee6bec92c303">avgscheme</a>[1],<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#acb6f71700ed482e84b69ee6bec92c303">avgscheme</a>[2],<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#acb6f71700ed482e84b69ee6bec92c303">avgscheme</a>[3],<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad5c8369abdf1833b4afc10d11d52b537">dofluxreconevolvepointfield</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a13fd1bc27b6fdc0978d4cbc7cd9bdaec">do_transverse_flux_integration</a>[0],<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, NPR, MPI_INT,headerptr);</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a619bd249bee29e34eb58716b9b88dc8a">do_source_integration</a>[0],<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, NPR, MPI_INT,headerptr);</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a42a3e0ccdd6805791cf169d439d305d6">do_conserved_integration</a>[0],<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, NPR, MPI_INT,headerptr);</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a618d1d6042e7d435e9439a0bbd7a9048">INVERTFROMAVERAGEIFFAILED</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a0d5e1b767182dfc4e2a3f89a9173d1ef">LIMIT_AC_PRIM_FRAC_CHANGE</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aeba423594eef8c67de9f06010b7fed5e">LIMIT_AC_FRAC_CHANGE</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a43991f234455e5f1169b75f14dede420">MAX_AC_PRIM_FRAC_CHANGE</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE,headerptr);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aecc5caf8e100de1cd41a733def1f83fb">MAX_AC_FRAC_CHANGE</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE,headerptr);</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a55732148d2616d6d1f5d2abbe8710850">DOENOFLUX</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a9efbdb319435873a6f7afe3f8e816c8d">PARAMODWENO</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aedd52e2d974e234694cf4f528766ba03">CHECKCONT</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#afbc62922177babb3d422ed1f093583fa">DOTSTEPDIAG</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#af0b9bb78fa09703f2b0563601335f4e5">DOLOGSTEP</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aa692e3b1b0689297e24b7b6cc14cd95a">DOLOGPERF</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad205d3a87a889b9b03ff73de0cee1770">NDTCCHECK</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a24e9905f6dba152c3b59fdc01747bc83">NZCCHECK</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a612c5c2d5f9671a197d4c4f7991a3c5d">NDTDOTCCHECK</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a2dcb9f7eda30f4b112b56660473d0ed7">NGOCHECK</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#afe7dfc7ebb1b60da8c80dd4848958098">NTIMECHECK</a>,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, 1, MPI_INT,headerptr);</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a3227cc255d553bfb41ee26b2cd8e252f">PERFWALLTIME</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE,headerptr);</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a7022e616d6e307a7d3b283ca36ffe137">ZCPSESTIMATE</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE,headerptr);</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="comment">// new June 6, 2003 (cumulatives)</span></div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;  <span class="comment">// always NPR</span></div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a791371e1aa99d0acfc298b5ee60d2ee6">pcumreg_tot</a>[0][0][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*(<a class="code" href="../../da/d3e/definit_8h.html#a1b2ef8afddd2c5d91ab65015bbd7b80b" title="NUMBER OF DIMENSIONS FOR COMPUTATION Can choose 3 and still do 1D optimized problems Choosing 2 or ev...">COMPDIM</a>*2)*NPR, MPI_SFTYPE,headerptr);</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ae2c39c8253f2546c4a1e014929400743">fladdreg_tot</a>[0][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*NPR, MPI_SFTYPE,headerptr);</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aed19121646bc0e629bb918e229cbbfef">fladdtermsreg_tot</a>[0][0][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ad9bb736bd7bcb5b96bf37975a5b7cbec">NUMFAILFLOORFLAGS</a>*NPR, MPI_SFTYPE,headerptr);</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ae76db216294805f036bcbd39aab9edb6">sourceaddreg_tot</a>[0][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*NPR, MPI_SFTYPE,headerptr);</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a407628560be0990ee13474d6f23967bc">sourceaddtermsreg_tot</a>[0][0][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac34589654a83c911addd1fda0898e738">NUMSOURCES</a>*NPR, MPI_SFTYPE,headerptr);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a395fdeb64b243f03682aa5d8e4e637ab">Ureg_init_tot</a>[0][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*NPR, MPI_SFTYPE,headerptr);</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;  <span class="comment">//FAILFLOORLOOP(indexfinalstep,tscale,floor)</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>&amp;&amp;0){</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a7db48a9cd90ac0af7bab5863b55e0c7a">failfloorcountlocal_tot</a>[0][0][0],<span class="keyword">sizeof</span>(CTYPE),ctypeheaderone,2*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a97da1b7437d7f64122b5504f054ff27e">NUMTSCALES</a>*(<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ad9bb736bd7bcb5b96bf37975a5b7cbec">NUMFAILFLOORFLAGS</a>-3),MPI_CTYPE,headerptr);</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;  }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;  <span class="keywordflow">else</span>{ <span class="comment">//new format</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    headercount+=header1_gen(!<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#aac079ccf8f010c3af30d9d175bfc7eed" title="restart macro stuff or use DODISS, etc.">DONOTACCESSMEMORY</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a7db48a9cd90ac0af7bab5863b55e0c7a">failfloorcountlocal_tot</a>[0][0][0],<span class="keyword">sizeof</span>(CTYPE),ctypeheaderone,2*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a97da1b7437d7f64122b5504f054ff27e">NUMTSCALES</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ad9bb736bd7bcb5b96bf37975a5b7cbec">NUMFAILFLOORFLAGS</a>,MPI_CTYPE,headerptr);</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;  }</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="comment">// end new June 6,2003</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;  headercount+=header1_gen(<a class="code" href="../../da/d3e/definit_8h.html#a702c3f736ffae96949fb85f091aff230">DODISS</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a41a0f6cdc7048d7876a52437c1931af6">dissreg_tot</a>[0][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>), sheaderone, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#adde832aa14a494487d47d4fed8268966" title="totals:">NUMDISSVERSIONS</a>, MPI_SFTYPE,headerptr);</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    </div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;  headercount+=header1_gen(<a class="code" href="../../da/d3e/definit_8h.html#a6c2751c5217b428c5f5faf66a08e2d90" title="0: don&#39;t do calculation 1: do">DOLUMVSR</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a124c703e3c349fa1c42f6b26dc8ccace">lumvsr_tot</a>[0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>),sheaderone, <a class="code" href="../../dd/d46/mpidefs_8h.html#a849af7562e98534cd4ea5764f5187bbd">ncpux1</a>*<a class="code" href="../../da/d3e/definit_8h.html#abd7b39be02bc15d79b73e5cf2b531299" title="#define CORNGDETVERSION 0">N1</a>, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;  <span class="comment">// for consistent restart file, assume NUMDISSVERSIONS doesn&#39;t change</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;  <span class="keywordflow">for</span>(dissloop=0;dissloop&lt;<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#adde832aa14a494487d47d4fed8268966" title="totals:">NUMDISSVERSIONS</a>;dissloop++){<span class="comment">// this loop is over pointers, not a continuous memory space!</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    headercount+=header1_gen(<a class="code" href="../../da/d3e/definit_8h.html#affb54fad9620541e1fcb17f854af9bfe" title="see diag_source()">DODISSVSR</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a44553fca1670897538d6257b335d7914">dissvsr_tot</a>[dissloop][0],<span class="keyword">sizeof</span>(<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a0263684ebff8e72a2f0de1861393595f">SFTYPE</a>),sheaderone, <a class="code" href="../../dd/d46/mpidefs_8h.html#a849af7562e98534cd4ea5764f5187bbd">ncpux1</a>*<a class="code" href="../../da/d3e/definit_8h.html#abd7b39be02bc15d79b73e5cf2b531299" title="#define CORNGDETVERSION 0">N1</a>, MPI_SFTYPE, headerptr);</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  }</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;  <span class="comment">// Aug 16, 2007 -- active region parameters (updated by JCM 07/24/08)</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;  headercount+=header1_gen(<a class="code" href="../../da/d3e/definit_8h.html#ae2cc56909ed67595b899f79bfe6fe8c3" title="whether to do ENO debug">DOGRIDSECTIONING</a>,readwrite,bintxt,bcasthead,&amp;global_enerregiondef,<span class="keyword">sizeof</span>(<span class="keywordtype">int</span>), <span class="stringliteral">&quot;%d&quot;</span>, <a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ae4512aaf0b87c98f356bd90f83f144bd" title="set enerregion types">NUMENERREGIONS</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a169f8e6d2a36fff12cb4999820e22214">NUMUPDOWN</a>*<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#a2b1fd2d28c6a7d4a3f7027cc1b6466f3">NDIM</a>, MPI_INT,headerptr);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  headercount+=header1_gen(<a class="code" href="../../da/d3e/definit_8h.html#ae2cc56909ed67595b899f79bfe6fe8c3" title="whether to do ENO debug">DOGRIDSECTIONING</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#afbb64757390c1fa2fcc99a77d1ee6856" title="for holding absolute values of indices of regions  for restarting">t_transition_in</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  headercount+=header1_gen(<a class="code" href="../../da/d3e/definit_8h.html#ae2cc56909ed67595b899f79bfe6fe8c3" title="whether to do ENO debug">DOGRIDSECTIONING</a>,readwrite,bintxt,bcasthead,&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a1ba567401c87389c140f25ec035c70cd">t_transition_out</a>,<span class="keyword">sizeof</span>(<a class="code" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0" title="need not change below datatype stuff">FTYPE</a>), headerone, 1, MPI_FTYPE, headerptr);</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  <span class="comment">//end Aug 16, 2007 (updated by JCM 07/24/08)</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160; </div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;  trifprintf(<span class="stringliteral">&quot;\nheadercount=%d\n&quot;</span>,headercount);</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="comment">// BELOW moved to dump_gen</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;  <span class="comment">// now read of tail is controlled by dump_gen()</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <span class="comment">//  if(bintxt==TEXTOUTPUT){</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <span class="comment">// flush to just after the header line in case binary read of data</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <span class="comment">//    if(readwrite==READHEAD) while(fgetc(headerptr)!=&#39;\n&#39;);</span></div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <span class="comment">// if(readwrite==READHEAD){</span></div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;  <span class="comment">// do nothing</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="comment">// else if(readwrite==WRITEHEAD) fprintf(headerptr,&quot;\n&quot;);</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;  <span class="comment">// }</span></div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  </div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#af4f19db9ac8263030178530bcbb38342">WRITEHEAD</a>) {</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span>(bintxt==<a class="code" href="../../d5/d14/mympi_8global_8nondepmnemonics_8h.html#a2927c7a2f9bac08381bfb2e1a543e1e8">TEXTOUTPUT</a>){</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;      <span class="comment">// flush to just after the header line in case binary read of data</span></div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;      fprintf(headerptr,<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;    }</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;    <span class="comment">// flux header so written to disk fully</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <span class="comment">// Only flush on writing as flushing on reading is undefined on VS</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    fflush(headerptr);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  }</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>){</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">// some checks</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="keywordflow">if</span> (idum1 != <a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[1]) {</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;      dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>, <span class="stringliteral">&quot;error reading restart file; N1 differs\n&quot;</span>);</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;      dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>, <span class="stringliteral">&quot;got totalsize[1]=%d needed totalsize[1]=%d\n&quot;</span>,idum1,<a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[1]);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;      myexit(3);</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    }</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <span class="keywordflow">if</span> (idum2 != <a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[2]) {</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;      dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>, <span class="stringliteral">&quot;error reading restart file; N2 differs\n&quot;</span>);</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;      dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>, <span class="stringliteral">&quot;got totalsize[2]=%d needed totalsize[2]=%d\n&quot;</span>,idum2,<a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[2]);</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;      myexit(4);</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    }</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="keywordflow">if</span> (idum3 != <a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[3]) {</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;      dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>, <span class="stringliteral">&quot;error reading restart file; N3 differs\n&quot;</span>);</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;      dualfprintf(<a class="code" href="../../d8/d5b/defs_8general_8h.html#ad3709a52076ae713f92f3c3fe3ec9255">fail_file</a>, <span class="stringliteral">&quot;got totalsize[3]=%d needed totalsize[3]=%d\n&quot;</span>,idum3,<a class="code" href="../../dd/d46/mpidefs_8h.html#ab3efab8b1f2dffc5907e0b0a5aa3988f">totalsize</a>[3]);</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;      myexit(4);</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;    }</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;  <span class="comment">// final things need to set but lock to rdump header content since don&#39;t want to add new header entry.  GODMARK: Eventually should add to restart header.</span></div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>){</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="../../d8/d5b/defs_8general_8h.html#a3fb3b56bd826fc63d53225ee4b2d8353">fakesteps</a>[0]=restartsteps[0];</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    <a class="code" href="../../d8/d5b/defs_8general_8h.html#a3fb3b56bd826fc63d53225ee4b2d8353">fakesteps</a>[1]=restartsteps[1];</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    <a class="code" href="../../d8/d5b/defs_8general_8h.html#aecfe591bfb11fe6fab1df27c05cb568d">whichfake</a>=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a9738619f6b1cbb93697432a12d122133" title="global flags">whichrestart</a>;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <a class="code" href="../../d8/d5b/defs_8general_8h.html#ab1151b6a19a26b4041e46379df81be9e">DTfake</a>=<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#afa99ec4acc4ecb2dc3c2d05da15d0e3f">MAX</a>(1,<a class="code" href="../../d8/d5b/defs_8general_8h.html#a6650077e624189283a8fc864f948d3b5">DTr</a>/10); <span class="comment">// only thing that matters currently.</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  }</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;  <span class="keywordflow">if</span>(bcasthead){</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    MPI_Bcast(&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#a3fb3b56bd826fc63d53225ee4b2d8353">fakesteps</a>, 2, MPI_INT, MPIid[0], MPI_COMM_GRMHD);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    MPI_Bcast(&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#aecfe591bfb11fe6fab1df27c05cb568d">whichfake</a>, 1, MPI_INT, MPIid[0], MPI_COMM_GRMHD);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    MPI_Bcast(&amp;<a class="code" href="../../d8/d5b/defs_8general_8h.html#ab1151b6a19a26b4041e46379df81be9e">DTfake</a>, 1, MPI_INT, MPIid[0], MPI_COMM_GRMHD);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;  }</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#ac6c9b944f505e00f8d69714dd95effa3">READHEAD</a>) trifprintf(<span class="stringliteral">&quot;end reading header of restart file\n&quot;</span>);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(readwrite==<a class="code" href="../../de/d10/global_8nondepmnemonics_8h.html#af4f19db9ac8263030178530bcbb38342">WRITEHEAD</a>) trifprintf(<span class="stringliteral">&quot;end writing header of restart file\n&quot;</span>);</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;  <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;}</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;<span class="keywordtype">int</span> restart_read_defs_new(<span class="keywordtype">void</span>)</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;{</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  <span class="keywordtype">int</span> enerregion;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordtype">int</span> indexfinalstep,floor,tscale,sc;</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;  <span class="keywordtype">int</span> dissloop;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;  <span class="keywordtype">int</span> dir,pl,pliter;</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;  <span class="keywordtype">int</span> ii;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  <span class="keywordtype">int</span> dtloop;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keywordtype">int</span> bcast_restart_header(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;  </div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;  <span class="keywordflow">if</span>(myid==0){</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    <span class="comment">// Define for cpu=0 only, which will continue to keep track of the total after restart</span></div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    <span class="comment">// Recall that PDUMPLOOP is only for primitives, while PLOOP should always be used for conserved quantities or fluxes</span></div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;    <span class="comment">// pdot and pdotterms computed each time and not cumulative, so no need to store.</span></div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2eb6e271008c49cc3feaa64c6eea2ddb" title="loop over ener/flux regions">ENERREGIONLOOP</a>(enerregion) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af276566d52b9239d67b094c949e15889" title="loop over directions">DIRLOOP</a>(dir) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af1c67086436007e897bccc458390886f" title="PLOOP controls looping over conserved or primitive -type quantities except during interpolation or ot...">PLOOP</a>(pliter,pl) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a2fee8f15a2bd11178d308d2d6c8acc1b">pcumreg</a>[enerregion][dir][pl]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a791371e1aa99d0acfc298b5ee60d2ee6">pcumreg_tot</a>[enerregion][dir][pl];</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2eb6e271008c49cc3feaa64c6eea2ddb" title="loop over ener/flux regions">ENERREGIONLOOP</a>(enerregion) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af1c67086436007e897bccc458390886f" title="PLOOP controls looping over conserved or primitive -type quantities except during interpolation or ot...">PLOOP</a>(pliter,pl) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a6707f24b846a9a6236e3f6b2b64e7e82" title="these quantities contain diagnostics all these require writing to restart file other _tot quantities ...">fladdreg</a>[enerregion][pl]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#ae2c39c8253f2546c4a1e014929400743">fladdreg_tot</a>[enerregion][pl];</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2eb6e271008c49cc3feaa64c6eea2ddb" title="loop over ener/flux regions">ENERREGIONLOOP</a>(enerregion) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af1c67086436007e897bccc458390886f" title="PLOOP controls looping over conserved or primitive -type quantities except during interpolation or ot...">PLOOP</a>(pliter,pl) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#aecfc572a5344bcf7fa1a22b51db76b71" title="loop over fair/floor types">FLOORLOOP</a>(floor) <a class="code" href="../../d8/d5b/defs_8general_8h.html#acd071ad3c75fd969b717fc8872aa70c4">fladdtermsreg</a>[enerregion][floor][pl]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#aed19121646bc0e629bb918e229cbbfef">fladdtermsreg_tot</a>[enerregion][floor][pl];</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2eb6e271008c49cc3feaa64c6eea2ddb" title="loop over ener/flux regions">ENERREGIONLOOP</a>(enerregion) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af1c67086436007e897bccc458390886f" title="PLOOP controls looping over conserved or primitive -type quantities except during interpolation or ot...">PLOOP</a>(pliter,pl) <a class="code" href="../../d8/d5b/defs_8general_8h.html#abc8a54a29a758e02e4eabaf374bbdfbd">sourceaddreg</a>[enerregion][pl]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#ae76db216294805f036bcbd39aab9edb6">sourceaddreg_tot</a>[enerregion][pl];</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2eb6e271008c49cc3feaa64c6eea2ddb" title="loop over ener/flux regions">ENERREGIONLOOP</a>(enerregion) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af1c67086436007e897bccc458390886f" title="PLOOP controls looping over conserved or primitive -type quantities except during interpolation or ot...">PLOOP</a>(pliter,pl) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2da8b12fca78064531b9b64e5699e4fc" title="loop over ALL sources (including geometry)">SCLOOP</a>(sc) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a4493c5cbc76f78da7e95a5b87f9bf6f6">sourceaddtermsreg</a>[enerregion][sc][pl]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a407628560be0990ee13474d6f23967bc">sourceaddtermsreg_tot</a>[enerregion][sc][pl];</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;    <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2eb6e271008c49cc3feaa64c6eea2ddb" title="loop over ener/flux regions">ENERREGIONLOOP</a>(enerregion) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#af1c67086436007e897bccc458390886f" title="PLOOP controls looping over conserved or primitive -type quantities except during interpolation or ot...">PLOOP</a>(pliter,pl) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a6c600198e62182b798fabbc064dad2d3">Ureg_init</a>[enerregion][pl]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a395fdeb64b243f03682aa5d8e4e637ab">Ureg_init_tot</a>[enerregion][pl];</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    if(<a class="code" href="../../da/d3e/definit_8h.html#aefc47346bd5140a39b6d744385796e56" title="0: don&#39;t output debug dump file or ener file(ener is based on dump counts) 1: do">DODEBUG</a>){</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;      <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a109c0007f7542c45c42b16a82239df74">FAILFLOORLOOP</a>(indexfinalstep,tscale,floor){</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <a class="code" href="../../d8/d5b/defs_8general_8h.html#a5b97d9e4c75a806486c79b2449106b20">failfloorcountlocal</a>[indexfinalstep][tscale][floor]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a7db48a9cd90ac0af7bab5863b55e0c7a">failfloorcountlocal_tot</a>[indexfinalstep][tscale][floor];</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <span class="comment">// failfloorcountlocal overwritten by counttotal by integratel in dump_ener.c, so also put in spatial spot.  Need this if not tracking counters spatially.  Or shouldn&#39;t reset failfloorcountlocal to zero in counttotal in dump_ener.c and reset counters to zero elsewhere at start of simulation.</span></div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="comment">// So just stick it somewhere we can easily track down later on this myid==0 core.</span></div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;        <span class="keywordtype">int</span> i=-<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a51b48b29d7903bb94a3d7879c3ff8eb9">N1NOT1</a>;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;        <span class="keywordtype">int</span> j=-<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#a9d8b7e3d088c68f51e7b29b95326a4ac">N2NOT1</a>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        <span class="keywordtype">int</span> k=-<a class="code" href="../../d1/de6/global_8depmnemonics_8h.html#aabbd6bada71f73d78d57d14e9adc0c29">N3NOT1</a>;</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;        <a class="code" href="../../df/d1c/global_8storage_8h.html#a4ca176a81d2229ced28a5c53ebeacc06">GLOBALMACP0A3</a>(failfloorcount,i,j,k,indexfinalstep,tscale,floor) = <a class="code" href="../../d8/d5b/defs_8general_8h.html#a5b97d9e4c75a806486c79b2449106b20">failfloorcountlocal</a>[indexfinalstep][tscale][floor];</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;      }</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    }</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="../../da/d3e/definit_8h.html#a702c3f736ffae96949fb85f091aff230">DODISS</a>) <a class="code" href="../../d5/dd8/global_8loops_8perpoint_8h.html#a2eb6e271008c49cc3feaa64c6eea2ddb" title="loop over ener/flux regions">ENERREGIONLOOP</a>(enerregion) for(dissloop=0;dissloop&lt;NUMDISSVERSIONS;dissloop++) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a33837b5474325908836b24ab40fed5b6">dissreg</a>[enerregion][dissloop]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a41a0f6cdc7048d7876a52437c1931af6">dissreg_tot</a>[enerregion][dissloop];</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;    <span class="comment">// assume (*dissfunpos)[][] not restored since zeroed out each dump</span></div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;    if(<a class="code" href="../../da/d3e/definit_8h.html#a6c2751c5217b428c5f5faf66a08e2d90" title="0: don&#39;t do calculation 1: do">DOLUMVSR</a>) for(ii=0;ii&lt;<a class="code" href="../../dd/d46/mpidefs_8h.html#a849af7562e98534cd4ea5764f5187bbd">ncpux1</a>*<a class="code" href="../../da/d3e/definit_8h.html#abd7b39be02bc15d79b73e5cf2b531299" title="#define CORNGDETVERSION 0">N1</a>;ii++) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a75d4d9f688220e74452609859774e5a0">lumvsr</a>[ii]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a124c703e3c349fa1c42f6b26dc8ccace">lumvsr_tot</a>[ii];</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    if(<a class="code" href="../../da/d3e/definit_8h.html#affb54fad9620541e1fcb17f854af9bfe" title="see diag_source()">DODISSVSR</a>) for(dissloop=0;dissloop&lt;NUMDISSVERSIONS;dissloop++) for(ii=0;ii&lt;<a class="code" href="../../dd/d46/mpidefs_8h.html#a849af7562e98534cd4ea5764f5187bbd">ncpux1</a>*N1;ii++) <a class="code" href="../../d8/d5b/defs_8general_8h.html#a57d77cd626bfc2578b551b63f7640736">dissvsr</a>[dissloop][ii]=<a class="code" href="../../d8/d5b/defs_8general_8h.html#a44553fca1670897538d6257b335d7914">dissvsr_tot</a>[dissloop][ii];</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  }</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;  <span class="comment">// broadcast things read from header to all CPUs</span></div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <span class="comment">//</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;<span class="comment"></span>  bcast_restart_header();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;  return(0);</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;}</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;<span class="preprocessor">#include &quot;restart.rebeccaoldcode.c&quot;</span></div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;</div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 20 2016 15:52:35 for HARM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
