<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>HARM: vchar.c File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">HARM
   </div>
   <div id="projectbrief">harm and utilities</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vchar.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Compute characteristics calculate components of magnetosonic velocity corresponding to primitive variables p Based upon cfg 7-10-01.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;decs.h&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vchar.c:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/dcd/vchar_8c__incl.png" border="0" usemap="#vchar_8c" alt=""/></div>
<map name="vchar_8c" id="vchar_8c">
</map>
</div>
</div>
<p><a href="../../d8/d20/vchar_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a11aec681a59ad17d82e398ca44561545"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#a11aec681a59ad17d82e398ca44561545">BOUNDARYSMOOTHER</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a11aec681a59ad17d82e398ca44561545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad92b53fcd7839744e624fb20dfde00f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#aad92b53fcd7839744e624fb20dfde00f">SMOOTHFACTOR</a>&#160;&#160;&#160;2.0</td></tr>
<tr class="memdesc:aad92b53fcd7839744e624fb20dfde00f"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether to use larger vmin/vmax near boundaries to help with large changes in primitive quantities that Riemann solver cannot handle this also can control courant condition to be consistent, unless set IGNORECOURANT 1  <a href="#aad92b53fcd7839744e624fb20dfde00f">More...</a><br/></td></tr>
<tr class="separator:aad92b53fcd7839744e624fb20dfde00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e29b473f4426ea80a7c12b00bc835a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#ad3e29b473f4426ea80a7c12b00bc835a">IGNORECOURANT</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ad3e29b473f4426ea80a7c12b00bc835a"><td class="mdescLeft">&#160;</td><td class="mdescRight">factor by which to make vmin/vmax larger.  <a href="#ad3e29b473f4426ea80a7c12b00bc835a">More...</a><br/></td></tr>
<tr class="separator:ad3e29b473f4426ea80a7c12b00bc835a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a119968824378b0d3d142da62f0029d37"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#a119968824378b0d3d142da62f0029d37">CHECKSOL</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:a119968824378b0d3d142da62f0029d37"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether to ignore vchar result in courant condition.  <a href="#a119968824378b0d3d142da62f0029d37">More...</a><br/></td></tr>
<tr class="separator:a119968824378b0d3d142da62f0029d37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9efc504c7637a9a280ca29ab76afdf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#aeb9efc504c7637a9a280ca29ab76afdf">USEGROUPVEL</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:aeb9efc504c7637a9a280ca29ab76afdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">whether to use group velocity rather than phase velocity mutually exclusive with CHECKSOL actually doesn't work when va2=1.  <a href="#aeb9efc504c7637a9a280ca29ab76afdf">More...</a><br/></td></tr>
<tr class="separator:aeb9efc504c7637a9a280ca29ab76afdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad54fc1df6b86400e3460208a2aa0c3ac"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#ad54fc1df6b86400e3460208a2aa0c3ac">USESASHAREWRITE</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ad54fc1df6b86400e3460208a2aa0c3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acdcca98ca82b041999cdb29fdf958a22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#acdcca98ca82b041999cdb29fdf958a22">vchar</a> (<a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *<a class="el" href="../../dc/dd2/newcodediff_8txt.html#ae7ab77d7e616dc02fba121a009b48c27">pr</a>, struct <a class="el" href="../../d1/d83/structof__state.html">of_state</a> *q, int dir, struct <a class="el" href="../../d6/d39/global_8structs_8h.html#aa7fe064ca3d2eb92f00456cd7c186eae">of_geom</a> *geom, <a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *vmax, <a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *vmin, int *ignorecourant)</td></tr>
<tr class="memdesc:acdcca98ca82b041999cdb29fdf958a22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Charles believed that near polar axis one should set vmax=vmin=0, but not right since makes flux completely non-diffusive (leads to numerical instabilities)  <a href="#acdcca98ca82b041999cdb29fdf958a22">More...</a><br/></td></tr>
<tr class="separator:acdcca98ca82b041999cdb29fdf958a22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acad033b60e7ca6404ffcd9b0fdfd13b4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/d20/vchar_8c.html#acad033b60e7ca6404ffcd9b0fdfd13b4">simplefast</a> (int whichcall, int dir, struct <a class="el" href="../../d6/d39/global_8structs_8h.html#aa7fe064ca3d2eb92f00456cd7c186eae">of_geom</a> *geom, struct <a class="el" href="../../d1/d83/structof__state.html">of_state</a> *q, <a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> cms2, <a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *vmin, <a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *vmax)</td></tr>
<tr class="separator:acad033b60e7ca6404ffcd9b0fdfd13b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Compute characteristics calculate components of magnetosonic velocity corresponding to primitive variables p Based upon cfg 7-10-01. </p>

<p>Definition in file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a11aec681a59ad17d82e398ca44561545"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BOUNDARYSMOOTHER&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00013">13</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

</div>
</div>
<a class="anchor" id="a119968824378b0d3d142da62f0029d37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CHECKSOL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>whether to ignore vchar result in courant condition. </p>
<p>Otherwise dt may be controlled by boundary smoother. Ignoring may lead to numerical instabilities. this leads to numerical instabilities! whether to check if phase velocity is &gt;c and limit it to c. not quite right. really phase or group velocity can have independent other components. Other than k direction, can move with different velocity, so not a good comparison </p>

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00024">24</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad3e29b473f4426ea80a7c12b00bc835a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IGNORECOURANT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>factor by which to make vmin/vmax larger. </p>

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00018">18</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

</div>
</div>
<a class="anchor" id="aad92b53fcd7839744e624fb20dfde00f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SMOOTHFACTOR&#160;&#160;&#160;2.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>whether to use larger vmin/vmax near boundaries to help with large changes in primitive quantities that Riemann solver cannot handle this also can control courant condition to be consistent, unless set IGNORECOURANT 1 </p>

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00016">16</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

</div>
</div>
<a class="anchor" id="aeb9efc504c7637a9a280ca29ab76afdf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USEGROUPVEL&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>whether to use group velocity rather than phase velocity mutually exclusive with CHECKSOL actually doesn't work when va2=1. </p>
<p>ctsq-&gt;, should avoid somehow </p>

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00029">29</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

</div>
</div>
<a class="anchor" id="ad54fc1df6b86400e3460208a2aa0c3ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USESASHAREWRITE&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00261">261</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="acad033b60e7ca6404ffcd9b0fdfd13b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int simplefast </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>whichcall</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d39/global_8structs_8h.html#aa7fe064ca3d2eb92f00456cd7c186eae">of_geom</a> *&#160;</td>
          <td class="paramname"><em>geom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d83/structof__state.html">of_state</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a>&#160;</td>
          <td class="paramname"><em>cms2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *&#160;</td>
          <td class="paramname"><em>vmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *&#160;</td>
          <td class="paramname"><em>vmax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00263">263</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_cgraph.png" border="0" usemap="#d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_cgraph" alt=""/></div>
<map name="d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_cgraph" id="d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_cgraph">
<area shape="rect" id="node3" href="../../d3/ddc/phys_8funcdeclare_8h.html#a11e17cd8b0594d1ad52e3594aa9f477e" title="find ucon, ucov, bcon, bcov from primitive variables when calling get_state, users of this function e..." alt="" coords="137,59,212,88"/><area shape="rect" id="node5" href="../../d3/ddc/phys_8funcdeclare_8h.html#a12a473e24b431762af4168179e82cd08" title="Get only u^ and u_ assumine b^ and b_ not used." alt="" coords="280,5,443,35"/><area shape="rect" id="node7" href="../../df/d21/global_8funcdeclare_8rad_8h.html#a8a762bf6582e6f7e1199de9c43b98454" title="Get only u^ and u_ assumine b^ and b_ not used." alt="" coords="263,59,460,88"/><area shape="rect" id="node9" href="../../d3/ddc/phys_8funcdeclare_8h.html#a41b8eacac0a4a23d6b00b670fe49629c" title="bsq_calc_fromq" alt="" coords="304,112,419,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_icgraph.png" border="0" usemap="#d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_icgraph" alt=""/></div>
<map name="d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_icgraph" id="d8/d20/vchar_8c_acad033b60e7ca6404ffcd9b0fdfd13b4_icgraph">
<area shape="rect" id="node3" href="../../d2/d72/phys_8tools_8rad_8c.html#abd01208ba3c5754ea5587bcaefcaa01b" title="get lab&#45;frame 3&#45;velocity for radiative emission in radiative frame" alt="" coords="136,95,243,124"/><area shape="rect" id="node65" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#adba6a1e320ad60ae452a4ff6f8ba6e25" title="Charles believed that near polar axis one should set vmax=vmin=0, but not right since makes flux comp..." alt="" coords="304,147,357,176"/><area shape="rect" id="node5" href="../../d2/d72/phys_8tools_8rad_8c.html#a56f468401f08e66966f0318198ca6e85" title="compute radiative characteristics as limited by opacity" alt="" coords="292,93,369,123"/><area shape="rect" id="node7" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#abb81988bde678c59afc5d006cf76b835" title="vchar_each" alt="" coords="420,93,508,123"/><area shape="rect" id="node9" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#a119027341f97d571212ad74c5ddc94b4" title="get wave speeds for flux calculation and for dt calculation" alt="" coords="1267,41,1341,71"/><area shape="rect" id="node34" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#a2afa5dfde87c74476341a69d555f91e6" title="get wave speeds for flux calculation" alt="" coords="579,147,699,176"/><area shape="rect" id="node59" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#a75426b1b9bf1a293c60d108c63b0322d" title="store wavespeeds somewhere" alt="" coords="559,93,719,123"/><area shape="rect" id="node11" href="../../d5/de3/phys_8tools_8funcdeclare_8h.html#ac9512f95a18d4a189ac642d138f95051" title="2D only for now since really only useful for 2D imaging map out region around failure point OPENMPNOT..." alt="" coords="1568,15,1645,44"/><area shape="rect" id="node29" href="../../d6/db2/diag_8funcdeclare_8h.html#a53324e6dbf9729772e70f0a053468ae6" title="set var to be averaged in time" alt="" coords="1412,67,1508,96"/><area shape="rect" id="node13" href="../../d6/db2/diag_8funcdeclare_8h.html#ac0efe363ff7411385b5c6ab3b1f146aa" title="main diag() call for diagnostics OPENMPNOTE: Assume diag() not called by multiple threads..." alt="" coords="1760,41,1805,71"/><area shape="rect" id="node15" href="../../d0/d29/main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main function that primarily calls init(), diag(), and step_ch_full() in loop." alt="" coords="2504,17,2555,47"/><area shape="rect" id="node17" href="../../d9/de0/step__ch_8c.html#a4c42d9adb1cef442b95fd62f99ee087a" title="things to do before taking a full timestep assume not called when dt==0.0" alt="" coords="2087,43,2172,72"/><area shape="rect" id="node22" href="../../d9/de0/step__ch_8c.html#ad36a0f9f915547477e3bb2405f8166b9" title="things to do after advance()" alt="" coords="1911,93,2012,123"/><area shape="rect" id="node19" href="../../d9/de0/step__ch_8c.html#a306fe858d9befc91e386212efe65acaf" title="take full step (called from main.c)" alt="" coords="2364,43,2455,72"/><area shape="rect" id="node24" href="../../d9/de0/step__ch_8c.html#a6ffc23f905bf9f398646f83250167dd2" title="take full step using normal MPI method This method transfers ALL boundary cells AT ONCE after updatin..." alt="" coords="2063,96,2196,125"/><area shape="rect" id="node26" href="../../d9/de0/step__ch_8c.html#afe241569412f22a86dea9cd91b516af8" title="take step itself" alt="" coords="2247,95,2313,124"/><area shape="rect" id="node31" href="../../d6/db2/diag_8funcdeclare_8h.html#a6bd89f9169256368191c508d23b0b453" title="if doavg==1, then assume this is call before dumping" alt="" coords="1557,68,1656,97"/><area shape="rect" id="node36" href="../../d3/ddc/phys_8funcdeclare_8h.html#a0bb12b388b07610cf01d08c19f8fddb1" title="actually compute the flux and ctop for dt calculation" alt="" coords="787,147,936,176"/><area shape="rect" id="node38" href="../../dc/dae/flux_8c.html#a054658527dfb1d80226b8b2d2106aeed" title="original flux calculator that gets F in &quot;dir&quot;. At end global pleft,pright,dq also set and if STOREWAV..." alt="" coords="1039,93,1161,123"/><area shape="rect" id="node53" href="../../dc/dae/flux_8c.html#a2602a4dad9ed7adc944227d02435312e" title="standard (non&#45;field flux) calculation but setup to store results of interpolation so can be used for ..." alt="" coords="1003,147,1197,176"/><area shape="rect" id="node56" href="../../dc/dae/flux_8c.html#aa26f8747446e1cd5bd214ebc345aafa2" title="compute donor&#45;based flux, bypassing normal fluxcalc()." alt="" coords="1047,200,1153,229"/><area shape="rect" id="node40" href="../../dc/dae/flux_8c.html#aaf6d832880760f80459d91477c28b519" title="wrapper for different standard 1&#45;D flux calculators 1&#45;D interpolate and get flux for that direction (..." alt="" coords="1247,147,1361,176"/><area shape="rect" id="node42" href="../../dc/dae/flux_8c.html#a8ffa7399bd5354fdcdec5f3e1adf0b13" title="wrapper for CENT_to_FACE1,2,3 used to compute flux at face" alt="" coords="1413,147,1507,176"/><area shape="rect" id="node44" href="../../d5/d2f/flux_8funcdeclare_8h.html#ab229b0f3f2caf3c0a3ef5299fba2b1c0" title="see fluxcompute.c for non&#45;computer science, real physics calculations of flux" alt="" coords="1573,147,1640,176"/><area shape="rect" id="node46" href="../../df/d22/advance_8c.html#a217bbc071881142282a66a317664912b" title="this method guarantees conservation of non&#45;sourced conserved quantities when metric is time&#45;dependent..." alt="" coords="1719,147,1847,176"/><area shape="rect" id="node51" href="../../df/d22/advance_8c.html#a38c6fa95ece38a2821c70a1524ec47ec" title="this method guarantees conservation of non&#45;sourced conserved quantities when metric is time&#45;dependent..." alt="" coords="1705,200,1860,229"/><area shape="rect" id="node48" href="../../df/d22/advance_8c.html#a22dff5dc24ff389254919e70b79be489" title="pi: initial values at t=t0 to compute Ui pb: values used to compute flux/source pf: solution using fl..." alt="" coords="1927,147,1996,176"/><area shape="rect" id="node61" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#acb4a2a3be68517862cdcf097ff51af37" title="complete storage of wave speeds per dimension only called for STOREWAVESPEEDS==1" alt="" coords="769,93,953,123"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acdcca98ca82b041999cdb29fdf958a22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int vchar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *&#160;</td>
          <td class="paramname"><em>pr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d1/d83/structof__state.html">of_state</a> *&#160;</td>
          <td class="paramname"><em>q</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="../../d6/d39/global_8structs_8h.html#aa7fe064ca3d2eb92f00456cd7c186eae">of_geom</a> *&#160;</td>
          <td class="paramname"><em>geom</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *&#160;</td>
          <td class="paramname"><em>vmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/df4/global_8realdef_8h.html#a4b869b0ea0650e99dff987e742327ce0">FTYPE</a> *&#160;</td>
          <td class="paramname"><em>vmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>ignorecourant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Charles believed that near polar axis one should set vmax=vmin=0, but not right since makes flux completely non-diffusive (leads to numerical instabilities) </p>

<p>Definition at line <a class="el" href="../../d8/d20/vchar_8c_source.html#l00034">34</a> of file <a class="el" href="../../d8/d20/vchar_8c_source.html">vchar.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_cgraph.png" border="0" usemap="#d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_cgraph" alt=""/></div>
<map name="d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_cgraph" id="d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_cgraph">
<area shape="rect" id="node3" href="../../d8/d20/vchar_8c.html#acad033b60e7ca6404ffcd9b0fdfd13b4" title="simplefast" alt="" coords="109,59,192,88"/><area shape="rect" id="node5" href="../../d3/ddc/phys_8funcdeclare_8h.html#a11e17cd8b0594d1ad52e3594aa9f477e" title="find ucon, ucov, bcon, bcov from primitive variables when calling get_state, users of this function e..." alt="" coords="241,59,316,88"/><area shape="rect" id="node7" href="../../d3/ddc/phys_8funcdeclare_8h.html#a12a473e24b431762af4168179e82cd08" title="Get only u^ and u_ assumine b^ and b_ not used." alt="" coords="384,5,547,35"/><area shape="rect" id="node9" href="../../df/d21/global_8funcdeclare_8rad_8h.html#a8a762bf6582e6f7e1199de9c43b98454" title="Get only u^ and u_ assumine b^ and b_ not used." alt="" coords="367,59,564,88"/><area shape="rect" id="node11" href="../../d3/ddc/phys_8funcdeclare_8h.html#a41b8eacac0a4a23d6b00b670fe49629c" title="bsq_calc_fromq" alt="" coords="408,112,523,141"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_icgraph.png" border="0" usemap="#d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_icgraph" alt=""/></div>
<map name="d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_icgraph" id="d8/d20/vchar_8c_acdcca98ca82b041999cdb29fdf958a22_icgraph">
<area shape="rect" id="node3" href="../../dc/dae/flux_8c.html#aa26f8747446e1cd5bd214ebc345aafa2" title="compute donor&#45;based flux, bypassing normal fluxcalc()." alt="" coords="737,5,844,35"/><area shape="rect" id="node7" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#abb81988bde678c59afc5d006cf76b835" title="vchar_each" alt="" coords="111,111,199,140"/><area shape="rect" id="node34" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#a2afa5dfde87c74476341a69d555f91e6" title="get wave speeds for flux calculation" alt="" coords="269,59,389,88"/><area shape="rect" id="node5" href="../../df/d22/advance_8c.html#a38c6fa95ece38a2821c70a1524ec47ec" title="this method guarantees conservation of non&#45;sourced conserved quantities when metric is time&#45;dependent..." alt="" coords="1396,5,1551,35"/><area shape="rect" id="node9" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#a119027341f97d571212ad74c5ddc94b4" title="get wave speeds for flux calculation and for dt calculation" alt="" coords="957,164,1032,193"/><area shape="rect" id="node56" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#a75426b1b9bf1a293c60d108c63b0322d" title="store wavespeeds somewhere" alt="" coords="249,112,409,141"/><area shape="rect" id="node11" href="../../d5/de3/phys_8tools_8funcdeclare_8h.html#ac9512f95a18d4a189ac642d138f95051" title="2D only for now since really only useful for 2D imaging map out region around failure point OPENMPNOT..." alt="" coords="1259,137,1336,167"/><area shape="rect" id="node29" href="../../d6/db2/diag_8funcdeclare_8h.html#a53324e6dbf9729772e70f0a053468ae6" title="set var to be averaged in time" alt="" coords="1103,191,1199,220"/><area shape="rect" id="node13" href="../../d6/db2/diag_8funcdeclare_8h.html#ac0efe363ff7411385b5c6ab3b1f146aa" title="main diag() call for diagnostics OPENMPNOTE: Assume diag() not called by multiple threads..." alt="" coords="1451,164,1496,193"/><area shape="rect" id="node15" href="../../d0/d29/main_8c.html#a0ddf1224851353fc92bfbff6f499fa97" title="Main function that primarily calls init(), diag(), and step_ch_full() in loop." alt="" coords="2195,189,2245,219"/><area shape="rect" id="node17" href="../../d9/de0/step__ch_8c.html#a4c42d9adb1cef442b95fd62f99ee087a" title="things to do before taking a full timestep assume not called when dt==0.0" alt="" coords="1777,163,1863,192"/><area shape="rect" id="node22" href="../../d9/de0/step__ch_8c.html#ad36a0f9f915547477e3bb2405f8166b9" title="things to do after advance()" alt="" coords="1601,112,1703,141"/><area shape="rect" id="node19" href="../../d9/de0/step__ch_8c.html#a306fe858d9befc91e386212efe65acaf" title="take full step (called from main.c)" alt="" coords="2055,163,2145,192"/><area shape="rect" id="node24" href="../../d9/de0/step__ch_8c.html#a6ffc23f905bf9f398646f83250167dd2" title="take full step using normal MPI method This method transfers ALL boundary cells AT ONCE after updatin..." alt="" coords="1753,109,1887,139"/><area shape="rect" id="node26" href="../../d9/de0/step__ch_8c.html#afe241569412f22a86dea9cd91b516af8" title="take step itself" alt="" coords="1937,111,2004,140"/><area shape="rect" id="node31" href="../../d6/db2/diag_8funcdeclare_8h.html#a6bd89f9169256368191c508d23b0b453" title="if doavg==1, then assume this is call before dumping" alt="" coords="1248,191,1347,220"/><area shape="rect" id="node36" href="../../d3/ddc/phys_8funcdeclare_8h.html#a0bb12b388b07610cf01d08c19f8fddb1" title="actually compute the flux and ctop for dt calculation" alt="" coords="477,59,627,88"/><area shape="rect" id="node38" href="../../dc/dae/flux_8c.html#a054658527dfb1d80226b8b2d2106aeed" title="original flux calculator that gets F in &quot;dir&quot;. At end global pleft,pright,dq also set and if STOREWAV..." alt="" coords="729,59,852,88"/><area shape="rect" id="node52" href="../../dc/dae/flux_8c.html#a2602a4dad9ed7adc944227d02435312e" title="standard (non&#45;field flux) calculation but setup to store results of interpolation so can be used for ..." alt="" coords="693,112,888,141"/><area shape="rect" id="node40" href="../../dc/dae/flux_8c.html#aaf6d832880760f80459d91477c28b519" title="wrapper for different standard 1&#45;D flux calculators 1&#45;D interpolate and get flux for that direction (..." alt="" coords="937,59,1052,88"/><area shape="rect" id="node42" href="../../dc/dae/flux_8c.html#a8ffa7399bd5354fdcdec5f3e1adf0b13" title="wrapper for CENT_to_FACE1,2,3 used to compute flux at face" alt="" coords="1104,59,1197,88"/><area shape="rect" id="node44" href="../../d5/d2f/flux_8funcdeclare_8h.html#ab229b0f3f2caf3c0a3ef5299fba2b1c0" title="see fluxcompute.c for non&#45;computer science, real physics calculations of flux" alt="" coords="1264,59,1331,88"/><area shape="rect" id="node46" href="../../df/d22/advance_8c.html#a217bbc071881142282a66a317664912b" title="this method guarantees conservation of non&#45;sourced conserved quantities when metric is time&#45;dependent..." alt="" coords="1409,59,1537,88"/><area shape="rect" id="node48" href="../../df/d22/advance_8c.html#a22dff5dc24ff389254919e70b79be489" title="pi: initial values at t=t0 to compute Ui pb: values used to compute flux/source pf: solution using fl..." alt="" coords="1617,59,1687,88"/><area shape="rect" id="node58" href="../../d2/dd4/wavespeeds_8funcdeclare_8h.html#acb4a2a3be68517862cdcf097ff51af37" title="complete storage of wave speeds per dimension only called for STOREWAVESPEEDS==1" alt="" coords="460,112,644,141"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 20 2016 15:52:38 for HARM by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
